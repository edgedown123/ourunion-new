import{j as e,c as Ot,r as i,R as Ut,a as Ft}from"./vendor-DSFCQPun.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const x of document.querySelectorAll('link[rel="modulepreload"]'))o(x);new MutationObserver(x=>{for(const u of x)if(u.type==="childList")for(const p of u.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function l(x){const u={};return x.integrity&&(u.integrity=x.integrity),x.referrerPolicy&&(u.referrerPolicy=x.referrerPolicy),x.crossOrigin==="use-credentials"?u.credentials="include":x.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(x){if(x.ep)return;x.ep=!0;const u=l(x);fetch(x.href,u)}})();const Bt={siteName:"Ïö∞Î¶¨ÎÖ∏ÎèôÏ°∞Ìï©",pointColor:"#0ea5e9",heroTitle:"Ìï®Íªò ÎßåÎìúÎäî Îçî ÎÇòÏùÄ ÎÇ¥Ïùº",heroSubtitle:"Ïö∞Î¶¨ÎÖ∏ÎèôÏ°∞Ìï©ÏùÄ ÎÖ∏ÎèôÏûêÏùò Í∂åÏùµÍ≥º Ï†ïÏùòÎ°úÏö¥ ÎÖ∏Îèô ÌôòÍ≤ΩÏùÑ ÏúÑÌï¥ ÌñâÎèôÌï©ÎãàÎã§.",heroImageUrl:"https://images.unsplash.com/photo-1544620347-c4fd4a3d5957?auto=format&fit=crop&q=80&w=1200",heroImageUrls:["https://images.unsplash.com/photo-1544620347-c4fd4a3d5957?auto=format&fit=crop&q=80&w=1200","https://images.unsplash.com/photo-1570125909232-eb263c188f7e?auto=format&fit=crop&q=80&w=1200","https://images.unsplash.com/photo-1526778548025-fa2f459cd5c1?auto=format&fit=crop&q=80&w=1200"],fontFamily:"Noto Sans KR",greetingTitle:"Ïö∞Î¶¨Ïùò ÏÇ¨Î™ÖÍ≥º ÏïΩÏÜç",greetingMessage:"Ïö∞Î¶¨Îäî Í≥µÏ†ïÌïú Î∂ÑÎ∞∞ÏôÄ ÏïàÏ†ÑÌïú ÏûëÏóÖ ÌôòÍ≤Ω, Í∑∏Î¶¨Í≥† ÎØºÏ£ºÏ†ÅÏù∏ ÎÖ∏ÏÇ¨ Í¥ÄÍ≥ÑÎ•º ÏßÄÌñ•Ìï©ÎãàÎã§. Î™®Îì† ÎÖ∏ÎèôÏûêÍ∞Ä Ï°¥Ï§ëÎ∞õÎäî ÏÑ∏ÏÉÅÏùÑ ÎßåÎìúÎäî Í≤ÉÏù¥ Ïö∞Î¶¨Ïùò ÏµúÏ¢Ö Î™©ÌëúÏûÖÎãàÎã§.",greetingImageUrl:"https://images.unsplash.com/photo-1521737604893-d14cc237f11d?auto=format&fit=crop&q=80&w=1200",missionItems:["ÏûÑÍ∏à ÌòëÏÉÅ Î∞è Í∑ºÎ°ú Ï°∞Í±¥ Í∞úÏÑ†","Í≥†Ïö© ÏïàÏ†ïÏÑ± ÌôïÎ≥¥ Î∞è Î∂ÄÎãπ Ìï¥Í≥† ÎåÄÏùë","Ï°∞Ìï©Ïõê Î≥µÏßÄ Ï¶ùÏßÑ Î∞è ÍµêÏú° ÏßÄÏõê"],history:[{year:"2024",text:"Ïö∞Î¶¨ÎÖ∏ÎèôÏ°∞Ìï© ÎîîÏßÄÌÑ∏ ÌòÅÏã† ÏÑ†Ìè¨ Î∞è ÌôàÌéòÏù¥ÏßÄ Í∞úÌé∏"},{year:"2015",text:"Ï†ÑÍµ≠ Îã®ÏúÑ ÎÖ∏Îèô ÌôòÍ≤Ω Ïã§ÌÉú Ï°∞ÏÇ¨ Ïã§Ïãú"},{year:"2005",text:"ÏÇ∞Î≥Ñ ÎÖ∏ÎèôÏ°∞Ìï© Ï≤¥Ï†ú Ï†ÑÌôò"},{year:"1990",text:"Ïö∞Î¶¨ÎÖ∏ÎèôÏ°∞Ìï© Ï∞ΩÎ¶Ω ÏÑ†Ïñ∏"}],offices:[{id:"jinkwan",name:"ÏßÑÍ¥ÄÏÇ¨ÏóÖÏÜå",address:"ÏÑúÏö∏ÌäπÎ≥ÑÏãú ÏùÄÌèâÍµ¨ ÌÜµÏùºÎ°ú 1190",phone:"02-371-0709",mapImageUrl:"https://images.unsplash.com/photo-1570125909232-eb263c188f7e?auto=format&fit=crop&q=80&w=800"},{id:"dobong",name:"ÎèÑÎ¥âÏÇ¨ÏóÖÏÜå",address:"ÏÑúÏö∏ÌäπÎ≥ÑÏãú ÎèÑÎ¥âÍµ¨ ÎèÑÎ¥âÎ°ú 969",phone:"02-987-6543",mapImageUrl:"https://images.unsplash.com/photo-1526778548025-fa2f459cd5c1?auto=format&fit=crop&q=80&w=1200"},{id:"songpa",name:"ÏÜ°ÌååÏÇ¨ÏóÖÏÜå",address:"ÏÑúÏö∏ÌäπÎ≥ÑÏãú ÏÜ°ÌååÍµ¨ ÌóåÎ¶âÎ°ú 869",phone:"02-555-5555",mapImageUrl:"https://images.unsplash.com/photo-1526778548025-fa2f459cd5c1?auto=format&fit=crop&q=80&w=1200"}]},Rt=[{id:"1",type:"notice_all",title:"Ïö∞Î¶¨ÎÖ∏ÎèôÏ°∞Ìï© ÌôàÌéòÏù¥ÏßÄ Ïò§Ìîà ÏïàÎÇ¥",content:`Ï°∞Ìï©Ïõê Ïó¨Îü¨Î∂ÑÏùò Ìé∏Î¶¨Ìïú ÏÜåÌÜµÏùÑ ÏúÑÌï¥ ÌôàÌéòÏù¥ÏßÄÎ•º ÎßåÎì§ÏóàÏäµÎãàÎã§
Ïö∞Î¶¨ÎÖ∏ÎèôÏ°∞Ìï©ÏóêÏÑúÎäî Ï°¥ÎåìÎßê ÏÇ¨Ïö©Ïù¥ ÏùòÎ¨¥ÏûÖÎãàÎã§
ÏÑúÎ°ú Ï°¥Ï§ëÌïòÎäî ÏÇ¨ÌöåÎ•º ÎßåÎì§Ïñ¥ Î¥ÖÏãúÎã§!`,author:"Í¥ÄÎ¶¨Ïûê",createdAt:"2025-12-29",views:124,password:"1234"}],$e=[{id:"intro",label:"Ï°∞Ìï©ÏÜåÍ∞ú",icon:"fa-info-circle",children:[{id:"greeting",label:"Ïù∏ÏÇ¨Îßê"},{id:"history",label:"Ïó∞ÌòÅ"},{id:"map",label:"Ï∞æÏïÑÏò§ÏãúÎäî Í∏∏"}]},{id:"notice",label:"Í≥µÏßÄÏÇ¨Ìï≠",icon:"fa-bullhorn",children:[{id:"notice_all",label:"Í≥µÍ≥†/Í≥µÏßÄ"},{id:"family_events",label:"Í≤ΩÏ°∞ÏÇ¨"}]},{id:"free",label:"ÏûêÏú†Í≤åÏãúÌåê",icon:"fa-comments"},{id:"resources",label:"ÏûêÎ£åÏã§",icon:"fa-folder-open"},{id:"signup",label:"ÌöåÏõêÍ∞ÄÏûÖ",icon:"fa-user-plus"}],Mt=({settings:s,children:r})=>e.jsx("div",{style:{"--point-color":s.pointColor},children:e.jsx("div",{className:"min-h-screen flex flex-col transition-colors duration-300",children:r})}),zt={},Te=typeof import.meta<"u"?zt:void 0,et=(Te==null?void 0:Te.VITE_SUPABASE_URL)||"",tt=(Te==null?void 0:Te.VITE_SUPABASE_ANON_KEY)||"",Se=()=>et.length>0&&tt.length>0&&et!=="undefined"&&tt!=="undefined",T=Se()?Ot(et,tt,{global:{fetch:(s,r)=>fetch(s,{...r,cache:"no-store"})}}):null,dt=async()=>{if(!T)return null;const{data:s,error:r}=await T.auth.getSession();return r?(console.error("ÏÑ∏ÏÖò Ï°∞Ìöå Ïã§Ìå®:",r),null):s.session},Wt=async(s,r)=>{if(!T)throw new Error("Supabase is not enabled");return await T.auth.signUp({email:s,password:r})},mt=async(s,r)=>{if(!T)throw new Error("Supabase is not enabled");return await T.auth.signInWithPassword({email:s,password:r})},Ae=async()=>{if(!T)return;const{error:s}=await T.auth.signOut();s&&console.error("Î°úÍ∑∏ÏïÑÏõÉ Ïã§Ìå®:",s)},Vt=async(s,r)=>{if(!T)throw new Error("Supabase is not enabled");return await T.auth.resetPasswordForEmail(s,r?{redirectTo:r}:void 0)},Kt=async s=>{if(!T)throw new Error("Supabase is not enabled");return await T.auth.updateUser({password:s})},Jt=s=>T?T.auth.onAuthStateChange(s):{data:{subscription:{unsubscribe:()=>{}}}},xt=async s=>{if(!T)return null;try{const{data:r,error:l}=await T.from("members").select("*").eq("id",s).single();if(l)throw l;if(!r)return null;const{created_at:o,...x}=r;return{...x,signupDate:o||r.signupDate}}catch(r){return console.error("ÌÅ¥ÎùºÏö∞Îìú ÌöåÏõê Îã®Í±¥ Ï°∞Ìöå Ïã§Ìå®:",r),null}},qt=async()=>{if(!T)return null;try{const{data:s,error:r}=await T.from("posts").select("*").order("created_at",{ascending:!1});if(r)throw r;return(s??[]).map(l=>({...l,createdAt:l.created_at||l.createdAt}))}catch(s){return console.error("ÌÅ¥ÎùºÏö∞Îìú Í≤åÏãúÍ∏Ä Î°úÎìú Ïã§Ìå®:",s),null}},De=async s=>{if(T)try{const{error:r}=await T.from("posts").upsert({id:s.id,type:s.type,title:s.title,content:s.content,author:s.author,created_at:s.createdAt,views:s.views,attachments:s.attachments,password:s.password,comments:s.comments});if(r)throw r}catch(r){console.error("ÌÅ¥ÎùºÏö∞Îìú Í≤åÏãúÍ∏Ä Ï†ÄÏû• Ïã§Ìå®:",r)}},Yt=async s=>{if(!T)return;const{error:r}=await T.from("posts").delete().eq("id",s);r&&console.error("ÌÅ¥ÎùºÏö∞Îìú Í≤åÏãúÍ∏Ä ÏÇ≠Ï†ú Ïã§Ìå®:",r)},Gt=async()=>{if(!T)return null;try{const{data:s,error:r}=await T.from("members").select("*").order("created_at",{ascending:!1});if(r)throw r;return(s??[]).map(l=>{const{created_at:o,...x}=l;return{...x,signupDate:o||l.signupDate}})}catch(s){return console.error("ÌÅ¥ÎùºÏö∞Îìú ÌöåÏõê Î°úÎìú Ïã§Ìå®:",s),null}},ht=async s=>{if(T)try{const{signupDate:r,...l}=s,{error:o}=await T.from("members").upsert({...l,created_at:s.signupDate});if(o)throw o;console.log(`ÌöåÏõê Ï†ïÎ≥¥ ÌÅ¥ÎùºÏö∞Îìú Ï†ÄÏû• ÏôÑÎ£å: ${s.name}`)}catch(r){throw console.error("ÌÅ¥ÎùºÏö∞Îìú ÌöåÏõê Ï†ÄÏû• Ïã§Ìå®:",r),r}},ut=async s=>{if(T)try{const{error:r}=await T.from("members").delete().eq("id",s);if(r)throw r}catch(r){console.error("ÌÅ¥ÎùºÏö∞Îìú ÌöåÏõê ÏÇ≠Ï†ú Ïã§Ìå®:",r)}},Ht=async()=>{if(!T)return null;try{const{data:s,error:r}=await T.from("site_settings").select("data, main_slogan, sub_slogan").eq("id","main").single();if(!r&&s)return{...s.data??{},...s.main_slogan?{heroTitle:s.main_slogan}:{},...s.sub_slogan?{heroSubtitle:s.sub_slogan}:{}}}catch{}try{const{data:s,error:r}=await T.from("settings").select("data").eq("id","main").single();if(r)throw r;return(s==null?void 0:s.data)??null}catch(s){return console.error("ÌÅ¥ÎùºÏö∞Îìú ÏÑ§Ï†ï Î°úÎìú Ïã§Ìå®:",s),null}},Xt=async s=>{if(!T)return;const r=s??{};try{const{data:l}=await T.from("site_settings").select("data").eq("id","main").single(),u={id:"main",data:{...(l==null?void 0:l.data)??{},...r},updated_at:new Date().toISOString()};typeof r.heroTitle=="string"&&(u.main_slogan=r.heroTitle),typeof r.heroSubtitle=="string"&&(u.sub_slogan=r.heroSubtitle);const{error:p}=await T.from("site_settings").upsert(u);if(!p)return}catch{}try{const{error:l}=await T.from("settings").upsert({id:"main",data:r});if(l)throw l}catch(l){console.error("ÌÅ¥ÎùºÏö∞Îìú ÏÑ§Ï†ï Ï†ÄÏû• Ïã§Ìå®:",l)}},Xe={};async function Zt(s=5e3,r=250){var o;if(!T)return null;const l=Date.now();for(;Date.now()-l<s;){const u=((o=(await T.auth.getSession()).data.session)==null?void 0:o.access_token)||null;if(u)return u;await new Promise(p=>setTimeout(p,r))}return null}const Qt=(typeof import.meta<"u"?Xe==null?void 0:Xe.VITE_VAPID_PUBLIC_KEY:void 0)||"",pt=(Qt||"").trim();function es(s){const r="=".repeat((4-s.length%4)%4),l=(s+r).replace(/-/g,"+").replace(/_/g,"/"),o=window.atob(l),x=new Uint8Array(o.length);for(let u=0;u<o.length;++u)x[u]=o.charCodeAt(u);return x}function Oe(){return typeof window<"u"&&"serviceWorker"in navigator&&"PushManager"in window}function ts(){var r,l,o;if(typeof window>"u")return"unknown";const s=navigator;return s!=null&&s.standalone||(r=window.matchMedia)!=null&&r.call(window,"(display-mode: standalone)").matches?"standalone":(l=window.matchMedia)!=null&&l.call(window,"(display-mode: minimal-ui)").matches?"minimal-ui":(o=window.matchMedia)!=null&&o.call(window,"(display-mode: fullscreen)").matches?"fullscreen":"browser"}function st(){var x;if(typeof window>"u")return{userAgent:"",platform:"",displayMode:"unknown",isPwa:!1};const s=navigator.userAgent||"",r=((x=navigator.userAgentData)==null?void 0:x.platform)||navigator.platform||"",l=ts();return{userAgent:s,platform:r,displayMode:l,isPwa:l!=="browser"&&l!=="unknown"}}async function Le(){return"Notification"in window?Notification.permission:"denied"}async function wt(){return"Notification"in window?await Notification.requestPermission():"denied"}async function Ke(s){var P,A;if(!Oe())throw new Error("Ïù¥ Î∏åÎùºÏö∞Ï†ÄÎäî Ìë∏Ïãú ÏïåÎ¶ºÏùÑ ÏßÄÏõêÌïòÏßÄ ÏïäÏäµÎãàÎã§.");if(!T)throw new Error("SupabaseÍ∞Ä ÏÑ§Ï†ïÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§.");if(!pt)throw new Error("VAPID Í≥µÍ∞úÌÇ§(VITE_VAPID_PUBLIC_KEY)Í∞Ä ÏÑ§Ï†ïÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§.");if(await Le()!=="granted"){if(s!=null&&s.silent)throw new Error("ÏïåÎ¶º Í∂åÌïúÏù¥ grantedÍ∞Ä ÏïÑÎãôÎãàÎã§. (silent)");if(await wt()!=="granted")throw new Error("ÏïåÎ¶º Í∂åÌïúÏù¥ ÌóàÏö©ÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§.")}const l=await Promise.race([navigator.serviceWorker.ready,new Promise((q,ie)=>setTimeout(()=>ie(new Error("ÏÑúÎπÑÏä§ÏõåÏª§ Ï§ÄÎπÑÍ∞Ä ÏßÄÏó∞Îê©ÎãàÎã§. (ready ÌÉÄÏûÑÏïÑÏõÉ)")),8e3))]),o=es(pt.trim());if(o.byteLength!==65)throw new Error(`VAPID Í≥µÍ∞úÌÇ§Í∞Ä ÎπÑÏ†ïÏÉÅÏûÖÎãàÎã§ (${o.byteLength} bytes)`);const u=await l.pushManager.getSubscription()||await l.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:o}),p=await Zt(5e3,250);if(s!=null&&s.requireAuth&&!p)throw new Error("Î°úÍ∑∏Ïù∏ ÏÉÅÌÉúÎ•º ÌôïÏù∏Ìï† Ïàò ÏóÜÏñ¥ ÏïåÎ¶º ÏÑ§Ï†ïÏùÑ ÏßÑÌñâÌï† Ïàò ÏóÜÏäµÎãàÎã§. ÏÉàÎ°úÍ≥†Ïπ® ÌõÑ Îã§Ïãú ÏãúÎèÑÌï¥Ï£ºÏÑ∏Ïöî.");const f=u.toJSON(),v=u.endpoint,c=((P=f.keys)==null?void 0:P.p256dh)??null,E=((A=f.keys)==null?void 0:A.auth)??null,C=st(),R={"Content-Type":"application/json"};p&&(R.Authorization=`Bearer ${p}`);const W=await fetch("/api/push-subscribe",{method:"POST",headers:R,body:JSON.stringify({endpoint:v,p256dh:c,auth:E,userAgent:C.userAgent,platform:C.platform,isPwa:C.isPwa,displayMode:C.displayMode})});if(!W.ok){const q=await W.text().catch(()=>"");throw new Error(`push-subscribe API Ïã§Ìå® (${W.status}): ${q}`)}const M=await W.json().catch(()=>({}));return{sub:u,...M}}async function ss(){var p,f;const s=Oe(),r=await Le().catch(()=>"denied"),l=st();let o=!1,x=null,u=null;if(s)try{const v=await Promise.race([navigator.serviceWorker.ready,new Promise((E,C)=>setTimeout(()=>C(new Error("ready timeout")),3e3))]);o=!0,x=v.scope||null;const c=await v.pushManager.getSubscription();if(c){const E=c.toJSON();u={endpoint:c.endpoint,p256dh:((p=E.keys)==null?void 0:p.p256dh)??null,auth:((f=E.keys)==null?void 0:f.auth)??null}}}catch{}return{supported:s,permission:r,env:l,swReady:o,swScope:x,subscription:u}}async function jt(){var x;if(!Oe()||!T)return!1;const r=await(await navigator.serviceWorker.ready).pushManager.getSubscription();if(!r)return!0;const l=r.endpoint,o=await r.unsubscribe();try{const p=((x=(await T.auth.getSession()).data.session)==null?void 0:x.access_token)||null;p?await fetch("/api/push-unsubscribe",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${p}`},body:JSON.stringify({endpoint:l})}):await T.from("push_subscriptions").delete().eq("endpoint",l)}catch{}return o}const ft=Object.freeze(Object.defineProperty({__proto__:null,ensurePushSubscribed:Ke,getClientPushStatus:ss,getNotificationPermission:Le,getPushEnvironment:st,isPushSupported:Oe,requestNotificationPermission:wt,unsubscribePush:jt},Symbol.toStringTag,{value:"Module"}));async function Je(){if("serviceWorker"in navigator)try{const s=await navigator.serviceWorker.register("/service-worker.js");return await navigator.serviceWorker.ready,s}catch(s){console.error("ÏÑúÎπÑÏä§ÏõåÏª§ Îì±Î°ù Ïã§Ìå®:",s)}}async function Nt(){try{if(!await Je())throw new Error("ÏÑúÎπÑÏä§ÏõåÏª§Í∞Ä Ï§ÄÎπÑÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§.");return await Ke(),!0}catch(s){return console.error("ÏïåÎ¶º ÌôúÏÑ±Ìôî Ïã§Ìå®:",s),!1}}let gt=!1;async function vt(){if(!gt){gt=!0;try{if(!("Notification"in window)||Notification.permission!=="granted"||!await Je())return;await Ke({silent:!0})}catch(s){console.debug("autoEnsurePushSubscription skipped/failed:",s)}}}const as=Object.freeze(Object.defineProperty({__proto__:null,autoEnsurePushSubscription:vt,enableNotifications:Nt,registerServiceWorker:Je},Symbol.toStringTag,{value:"Module"})),rs=({siteName:s,activeTab:r,onTabChange:l,userRole:o,memberName:x,onToggleLogin:u,youtubeLinks:p=[],showWithdrawButton:f=!1,onRequestWithdraw:v})=>{const c=$e.find(b=>{var O;return b.id===r||((O=b.children)==null?void 0:O.some(X=>X.id===r))}),[E,C]=i.useState(!1),[R,W]=i.useState(null),M=b=>{switch(b.replace(/\s+/g,"")){case"Í≤∏ÏÜêÏùÄÌûòÎì§Îã§":return"/images/youtube-gyeomson.png";case"ÍπÄÎèôÍ±∏TV":return"/images/youtube-kimdonggeoltv.png";case"ÌïúÍµ≠brtÏ∂ïÍµ¨Îã®":return"/images/youtube-koreabrt.png";default:return null}},P=i.useMemo(()=>{const b=$e.find(X=>X.id==="intro"),O=$e.find(X=>X.id==="notice");return[{id:"intro",label:"Ï°∞Ìï©ÏÜåÍ∞ú",children:(b==null?void 0:b.children)||[{id:"greeting",label:"Ïù∏ÏÇ¨Îßê"},{id:"history",label:"Ïó∞ÌòÅ"},{id:"map",label:"Ï∞æÏïÑÏò§ÏãúÎäî Í∏∏"}]},{id:"notice",label:"Í≥µÏßÄÏÇ¨Ìï≠",children:(O==null?void 0:O.children)||[{id:"notice_all",label:"Í≥µÍ≥†/Í≥µÏßÄ"},{id:"family_events",label:"Í≤ΩÏ°∞ÏÇ¨"}]},{id:"free",label:"ÏûêÏú†Í≤åÏãúÌåê"},{id:"resources",label:"ÏûêÎ£åÏã§"},{id:"admin",label:"ÏÑ§Ï†ï"}]},[]),[A,q]=i.useState("default");i.useEffect(()=>{(async()=>{try{const b=await Le();q(b)}catch{}})()},[]);const ie=async()=>{if(!Oe()){alert("Ïù¥ Î∏åÎùºÏö∞Ï†ÄÎäî Ìë∏Ïãú ÏïåÎ¶ºÏùÑ ÏßÄÏõêÌïòÏßÄ ÏïäÏäµÎãàÎã§. (ÏïàÎìúÎ°úÏù¥Îìú ÌÅ¨Î°¨ Í∂åÏû•)");return}const b=await Nt(),O=await Le();q(O),alert(b?"ÏïåÎ¶ºÏù¥ ÏºúÏ°åÏäµÎãàÎã§! Ïù¥Ï†ú ÏÉà Í≤åÏãúÍ∏ÄÏù¥ Ïò¨ÎùºÏò§Î©¥ ÏïåÎ¶ºÏù¥ ÏòµÎãàÎã§.":"ÏïåÎ¶ºÏùÑ ÏºúÏßÄ Î™ªÌñàÏäµÎãàÎã§. Î∏åÎùºÏö∞Ï†Ä ÏÑ§Ï†ïÏóêÏÑú ÏïåÎ¶ºÏùÑ ÌóàÏö©ÌñàÎäîÏßÄ ÌôïÏù∏Ìï¥ Ï£ºÏÑ∏Ïöî.")},oe=async()=>{await jt();const b=await Le();q(b),alert("ÏïåÎ¶ºÏùÑ ÍªêÏäµÎãàÎã§.")},Ne=i.useMemo(()=>$e.flatMap(b=>b.id!=="notice"?[b]:[{...b,id:"notice_all",label:"Í≥µÏßÄÏÇ¨Ìï≠"},{...b,id:"family_events",label:"Í≤ΩÏ°∞ÏÇ¨"}]),[]),ce=b=>{l(b),C(!1)},se=b=>{W(O=>O===b?null:b)};return e.jsxs("nav",{className:"bg-white border-b sticky top-0 z-50 shadow-sm",children:[e.jsx("div",{className:"bg-white px-4 border-b border-gray-100 md:hidden",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between h-14",children:[e.jsx("button",{onClick:()=>C(!0),className:"p-2 -ml-2 rounded-xl hover:bg-gray-100 active:scale-95 transition-all","aria-label":"Î©îÎâ¥ Ïó¥Í∏∞",children:e.jsx("i",{className:"fas fa-bars text-xl text-gray-800"})}),e.jsxs("button",{onClick:()=>l("home"),className:"flex items-center",children:[e.jsx("i",{className:"fas fa-users text-sky-primary text-lg mr-2"}),e.jsx("span",{className:"font-black text-base tracking-tight text-gray-900",children:s})]}),e.jsx("div",{className:"min-w-[48px] flex justify-end",children:o!=="guest"?e.jsxs("span",{className:"text-xs font-bold text-gray-600 whitespace-nowrap",children:[x," ",e.jsx("span",{className:"text-gray-400 font-normal",children:"Îãò"})]}):e.jsx("div",{className:"w-10"})})]})}),e.jsx("div",{className:"bg-white px-4 border-b border-gray-100 hidden md:block",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between h-16 md:h-18",children:[e.jsxs("button",{onClick:()=>l("home"),className:"flex items-center cursor-pointer relative group",children:[e.jsx("i",{className:"fas fa-users text-sky-primary text-xl md:text-2xl mr-2"}),e.jsx("span",{className:"font-black text-lg md:text-xl tracking-tight text-gray-900",children:s})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[o!=="guest"&&e.jsx("div",{className:"flex items-center mr-2",children:e.jsxs("span",{className:"text-[11px] md:text-xs font-bold text-gray-700",children:[x," ",e.jsx("span",{className:"text-gray-400 font-normal",children:"Îãò"})]})}),e.jsx("button",{onClick:u,className:`text-[11px] md:text-xs px-4 py-2 rounded-full border transition-all whitespace-nowrap font-bold ${o!=="guest"?"bg-gray-100 text-gray-600 border-gray-200 hover:bg-gray-200":"bg-sky-primary text-white border-sky-primary hover:opacity-90 shadow-sm"}`,children:o==="guest"?"Î°úÍ∑∏Ïù∏":"Î°úÍ∑∏ÏïÑÏõÉ"}),o!=="guest"&&e.jsx("button",{onClick:A==="granted"?oe:ie,className:`p-2.5 md:p-3 rounded-full hover:bg-gray-100 transition-colors ${A==="granted"?"text-sky-primary":"text-gray-400"}`,title:A==="granted"?"ÏïåÎ¶º ÎÅÑÍ∏∞":"ÏïåÎ¶º ÏºúÍ∏∞",children:e.jsx("i",{className:`fas ${A==="granted"?"fa-bell":"fa-bell-slash"} text-xl`})}),e.jsx("button",{onClick:()=>l("admin"),className:`p-2.5 md:p-3 rounded-full hover:bg-gray-100 transition-colors ${r==="admin"?"text-sky-primary":"text-gray-400"}`,title:"Í¥ÄÎ¶¨Ïûê ÏÑ§Ï†ï",children:e.jsx("i",{className:"fas fa-cog text-xl"})})]})]})}),e.jsx("div",{className:"bg-white px-2 md:px-4 border-b border-gray-50 hidden md:block",children:e.jsx("div",{className:"max-w-7xl mx-auto md:overflow-visible overflow-x-auto scrollbar-hide flex items-center h-14",children:e.jsx("div",{className:"flex space-x-1 md:space-x-2 h-full items-center min-w-max md:min-w-0 md:w-full md:justify-start",children:Ne.map(b=>{const O=b.id===r,X=b.id==="signup";return e.jsx("button",{onClick:()=>l(b.id),className:`${O?"text-sky-primary font-black":"text-gray-500 hover:text-gray-800"} px-2.5 md:px-5 py-2 text-[14px] md:text-base font-bold transition-all h-full border-b-2 ${O?"border-sky-primary":"border-transparent"} ${X?"hidden sm:flex":"flex"} items-center whitespace-nowrap`,children:b.label},b.id)})})})}),c&&c.children&&!(c.id==="notice"&&(r==="notice_all"||r==="family_events"))&&e.jsx("div",{className:"hidden md:block bg-gray-50 px-4 animate-slideDown border-b border-gray-100",children:e.jsx("div",{className:"max-w-7xl mx-auto overflow-x-auto scrollbar-hide flex items-center h-12",children:e.jsx("div",{className:"flex space-x-3 h-full items-center min-w-max",children:c.children.map(b=>e.jsx("button",{onClick:()=>l(b.id),className:`px-4 py-1.5 text-xs md:text-sm font-bold rounded-xl transition-all ${r===b.id?"bg-sky-primary text-white shadow-md":"text-gray-500 hover:text-sky-primary hover:bg-white"}`,children:b.label},b.id))})})}),E&&e.jsxs("div",{className:"fixed inset-0 z-[200] md:hidden",children:[e.jsx("button",{className:"absolute inset-0 bg-black/40","aria-label":"Î©îÎâ¥ Îã´Í∏∞",onClick:()=>C(!1)}),e.jsxs("aside",{className:"absolute left-0 top-0 h-full w-[82%] max-w-[360px] bg-white shadow-2xl flex flex-col",children:[e.jsxs("div",{className:"h-14 px-4 border-b flex items-center justify-between",children:[e.jsx("span",{className:"font-black text-base text-gray-900",children:"Î©îÎâ¥"}),e.jsx("button",{onClick:()=>C(!1),className:"p-2 -mr-2 rounded-xl hover:bg-gray-100 active:scale-95 transition-all","aria-label":"Îã´Í∏∞",children:e.jsx("i",{className:"fas fa-times text-xl text-gray-700"})})]}),e.jsx("div",{className:"px-4 py-4 border-b bg-gray-50/50",children:e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("button",{onClick:()=>{u(),C(!1)},className:"py-3 rounded-2xl border bg-white font-black text-sm",children:o==="guest"?"Î°úÍ∑∏Ïù∏":"Î°úÍ∑∏ÏïÑÏõÉ"}),e.jsx("button",{onClick:()=>ce("signup"),className:"py-3 rounded-2xl border bg-white font-black text-sm",children:"ÌöåÏõêÍ∞ÄÏûÖ"})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsx("ul",{className:"divide-y",children:P.map(b=>{var y;const O=!!((y=b.children)!=null&&y.length),X=R===b.id;return e.jsxs("li",{children:[e.jsxs("button",{onClick:()=>O?se(b.id):ce(b.id),className:"w-full px-4 py-5 flex items-center justify-between text-left",children:[e.jsx("span",{className:"text-[15px] font-black text-gray-900",children:b.label}),O?e.jsx("i",{className:`fas ${X?"fa-minus":"fa-plus"} text-gray-400`}):e.jsx("i",{className:"fas fa-chevron-right text-gray-300"})]}),O&&X&&e.jsx("div",{className:"pb-3",children:b.children.map(k=>e.jsx("button",{onClick:()=>ce(k.id),className:"w-full px-8 py-3 text-left text-sm font-bold text-gray-600 hover:bg-gray-50",children:k.label},k.id))})]},b.id)})})}),e.jsxs("div",{className:"border-t px-4 pt-4 pb-4 bg-white sticky bottom-0",style:{paddingBottom:"calc(env(safe-area-inset-bottom, 0px) + 16px)"},children:[p.length>0&&e.jsxs("div",{className:"grid grid-cols-2 gap-2.5 sm:gap-3 max-w-[360px] mx-auto",children:[p.slice(0,4).map(b=>{const O=M(b.label);return e.jsx("a",{href:b.url,target:"_blank",rel:"noreferrer",className:"w-full",children:O?e.jsx("div",{className:"w-full h-[60px] sm:h-[64px] rounded-2xl shadow-md overflow-hidden bg-white hover:brightness-95 active:scale-[0.99] transition-all",children:e.jsx("img",{src:O,alt:b.label,className:"w-full h-full object-contain"})}):e.jsx("span",{className:"w-full h-[60px] sm:h-[64px] rounded-2xl text-white font-black text-sm shadow-md text-center flex items-center justify-center",style:{backgroundColor:"var(--point-color)"},children:b.label})},b.label)}),f&&e.jsx("button",{type:"button",onClick:()=>{v==null||v(),C(!1)},className:"w-full",children:e.jsx("div",{className:"w-full h-[60px] sm:h-[64px] rounded-2xl shadow-md overflow-hidden bg-white hover:brightness-95 active:scale-[0.99] transition-all",children:e.jsx("img",{src:"/images/youtube-ÌöåÏõêÌÉàÌá¥.png",alt:"ÌöåÏõê ÌÉàÌá¥",className:"w-full h-full object-contain"})})})]}),p.length===0&&f&&e.jsx("button",{type:"button",onClick:()=>{v==null||v(),C(!1)},className:"w-full max-w-[360px] mx-auto",children:e.jsx("div",{className:"w-full h-[60px] sm:h-[64px] rounded-2xl shadow-md overflow-hidden bg-white hover:brightness-95 active:scale-[0.99] transition-all",children:e.jsx("img",{src:"/images/youtube-ÌöåÏõêÌÉàÌá¥.png",alt:"ÌöåÏõê ÌÉàÌá¥",className:"w-full h-full object-contain"})})})]})]})]}),e.jsx("style",{children:`
        @keyframes slideDown {
          from { opacity: 0; transform: translateY(-5px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-slideDown {
          animation: slideDown 0.2s ease-out forwards;
        }
      `})]})},ls=({title:s,subtitle:r,imageUrls:l,onJoinClick:o})=>{const[x,u]=i.useState(0),p=l&&l.length>0?l.filter(f=>!!f):["https://images.unsplash.com/photo-1544620347-c4fd4a3d5957?auto=format&fit=crop&q=80&w=1200"];return i.useEffect(()=>{if(p.length<=1)return;const f=setInterval(()=>{u(v=>(v+1)%p.length)},3e3);return()=>clearInterval(f)},[p.length]),e.jsx("div",{className:"flex flex-col",children:e.jsxs("section",{className:"relative bg-white lg:flex lg:items-center lg:min-h-[600px] xl:min-h-[700px] overflow-hidden",children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col lg:flex-row items-center w-full py-12 lg:py-0",children:[e.jsxs("div",{className:"w-full lg:w-1/2 lg:pr-12 mb-10 lg:mb-0 text-center lg:text-left z-10",children:[e.jsxs("h1",{className:"text-4xl tracking-tight font-extrabold text-gray-900 sm:text-5xl md:text-6xl animate-fadeIn",children:[e.jsx("span",{className:"block xl:inline leading-tight",children:s.split(" ")[0]})," ",e.jsx("span",{className:"block text-sky-primary xl:inline leading-tight",children:s.split(" ").slice(1).join(" ")})]}),e.jsx("p",{className:"mt-6 text-base text-gray-500 sm:text-lg sm:max-w-xl sm:mx-auto md:mt-8 md:text-xl lg:mx-0 font-medium leading-relaxed",children:r}),e.jsx("div",{className:"mt-10 sm:flex sm:justify-center lg:justify-start",children:e.jsx("div",{className:"rounded-2xl shadow-2xl shadow-sky-100",children:e.jsx("button",{onClick:o,className:"w-full flex items-center justify-center px-10 py-4 border border-transparent text-base font-black rounded-2xl text-white bg-sky-primary hover:bg-sky-600 md:py-5 md:text-lg md:px-14 transition-all active:scale-95 transform",children:"Ï°∞Ìï© Í∞ÄÏûÖ Ïã†Ï≤≠ÌïòÍ∏∞"})})})]}),e.jsxs("div",{className:"w-full lg:w-1/2 flex flex-col items-center lg:items-end animate-fadeIn",children:[e.jsxs("div",{className:"relative w-full max-w-2xl lg:max-w-none aspect-[4/3] lg:aspect-square xl:aspect-[16/10] overflow-hidden rounded-[2.5rem] shadow-2xl border-8 border-white bg-gray-100",children:[p.map((f,v)=>e.jsx("img",{className:`absolute inset-0 w-full h-full object-cover transition-all duration-1000 ease-in-out ${v===x?"opacity-100 scale-100":"opacity-0 scale-110 pointer-events-none"}`,src:f,alt:`Slide ${v+1}`},v)),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-sky-primary/10 to-transparent pointer-events-none"})]}),p.length>1&&e.jsx("div",{className:"mt-6 flex space-x-2.5 z-20",children:p.map((f,v)=>e.jsx("button",{onClick:()=>u(v),className:`h-2.5 transition-all duration-500 rounded-full ${v===x?"w-10 bg-sky-primary shadow-lg shadow-sky-100":"w-2.5 bg-gray-200 hover:bg-gray-300"}`,"aria-label":`Go to slide ${v+1}`},v))})]})]}),e.jsx("div",{className:"absolute top-0 right-0 -translate-y-1/2 translate-x-1/2 w-96 h-96 bg-sky-50 rounded-full blur-3xl opacity-50 -z-10"}),e.jsx("div",{className:"absolute bottom-0 left-0 translate-y-1/2 -translate-x-1/2 w-64 h-64 bg-sky-50 rounded-full blur-3xl opacity-50 -z-10"})]})})},ns=({memberName:s,onDone:r,onLater:l})=>{const[o,x]=i.useState(!1),u=async()=>{try{if(!Oe()){alert("Ïù¥ Î∏åÎùºÏö∞Ï†ÄÎäî Ìë∏Ïãú ÏïåÎ¶ºÏùÑ ÏßÄÏõêÌïòÏßÄ ÏïäÏäµÎãàÎã§. (Chrome/Edge Í∂åÏû•)");return}x(!0),await Ke({requireAuth:!0}),alert("ÏïåÎ¶ºÏù¥ ÏºúÏ°åÏäµÎãàÎã§! ÏÉà Í∏ÄÏù¥ Ïò¨ÎùºÏò§Î©¥ ÏïåÎ†§ÎìúÎ¶¥Í≤åÏöî."),r()}catch(p){const f=(p==null?void 0:p.message)||String(p);alert(f)}finally{x(!1)}};return e.jsx("section",{className:"px-4 md:px-0 mt-6",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsx("div",{className:"rounded-3xl border border-gray-100 bg-white shadow-sm overflow-hidden",children:e.jsx("div",{className:"p-6 md:p-8",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-sky-50 flex items-center justify-center shrink-0",children:e.jsx("i",{className:"fas fa-bell text-sky-600 text-xl"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-gray-900 font-black text-lg md:text-xl",children:s?`${s}Îãò, Í∞ÄÏûÖ ÏäπÏù∏ ÏôÑÎ£å üéâ`:"Í∞ÄÏûÖ ÏäπÏù∏ ÏôÑÎ£å üéâ"}),e.jsxs("p",{className:"text-gray-500 mt-1 leading-relaxed",children:["ÏûêÏú†Í≤åÏãúÌåêÏóê ÏÉà Í∏ÄÏù¥ Ïò¨ÎùºÏò§Î©¥ Î∞îÎ°ú ÏïåÎ†§ÎìúÎ¶¥Í≤åÏöî.",e.jsx("span",{className:"hidden md:inline",children:" (Ìè∞/PC Í∞ÅÍ∞Å Ìïú Î≤àÎßå ÏÑ§Ï†ïÌïòÎ©¥ Îê©ÎãàÎã§)"})]}),e.jsxs("div",{className:"mt-5 flex flex-col sm:flex-row gap-3",children:[e.jsx("button",{onClick:u,disabled:o,className:"px-6 py-3 rounded-2xl bg-gray-900 text-white font-black shadow-lg active:scale-[0.99] transition disabled:opacity-60 disabled:cursor-not-allowed",children:o?"ÏÑ§Ï†ï Ï§ë...":"üîî ÏïåÎ¶º Î∞õÍ∏∞"}),e.jsx("button",{onClick:l,disabled:o,className:"px-6 py-3 rounded-2xl bg-gray-50 text-gray-700 font-bold border border-gray-200 active:scale-[0.99] transition disabled:opacity-60",children:"ÎÇòÏ§ëÏóê"})]}),e.jsx("p",{className:"mt-4 text-xs text-gray-400 leading-relaxed",children:"* ÏïåÎ¶ºÏùÄ Î°úÍ∑∏Ïù∏Ìïú Ï°∞Ìï©ÏõêÏóêÍ≤åÎßå Ï†úÍ≥µÎê©ÎãàÎã§. Î∏åÎùºÏö∞Ï†Ä/Í∏∞Í∏∞ÎßàÎã§ Î≥ÑÎèÑÎ°ú ÏÑ§Ï†ïÏù¥ ÌïÑÏöîÌï† Ïàò ÏûàÏäµÎãàÎã§."})]})]})})})})})},kt=({type:s,posts:r,onWriteClick:l,onEditClick:o,selectedPostId:x,onSelectPost:u,userRole:p,onDeletePost:f,onSaveComment:v,onEditComment:c,onDeleteComment:E,currentUserName:C})=>{var ue,K,ye,_e;const[R,W]=i.useState(!1),[M,P]=i.useState(!1),[A,q]=i.useState(""),[ie,oe]=i.useState(""),[Ne,ce]=i.useState(null),[se,b]=i.useState(""),[O,X]=i.useState(null),[y,k]=i.useState(null),[D,U]=i.useState(""),Z=S=>p==="admin"||p!=="guest"&&S===(C||""),j=x?r.find(S=>S.id===x&&S.type===s):null,G=S=>{if(!S)return"";const Y=new Date(S);if(isNaN(Y.getTime()))return S;const L=Y.getFullYear(),te=String(Y.getMonth()+1).padStart(2,"0"),N=String(Y.getDate()).padStart(2,"0"),$=String(Y.getHours()).padStart(2,"0"),g=String(Y.getMinutes()).padStart(2,"0");return`${L}.${te}.${N} ${$}:${g}`};let Q=$e.find(S=>S.id===s);if(!Q)for(const S of $e){const Y=(ue=S.children)==null?void 0:ue.find(L=>L.id===s);if(Y){Q={id:Y.id,label:Y.label,icon:S.icon};break}}const xe=S=>{S.stopPropagation(),j&&(P(!0),W(!1),q(""))},we=S=>{S.stopPropagation(),!(!j||!f)&&(W(!0),P(!1),q(""))},fe=()=>{if(j){if(A!==j.password){alert("ÎπÑÎ∞ÄÎ≤àÌò∏Í∞Ä ÏùºÏπòÌïòÏßÄ ÏïäÏäµÎãàÎã§.");return}M?(o(j),P(!1)):R&&(f==null||f(j.id,A),W(!1)),q("")}},H=S=>{S.preventDefault(),!(!ie.trim()||!v||!j)&&(v(j.id,ie),oe(""))},ee=(S,Y)=>{S.preventDefault(),!(!se.trim()||!v||!j)&&(v(j.id,se,Y),b(""),ce(null))};if(j){const S=((K=j.attachments)==null?void 0:K.filter(N=>N.type.startsWith("image/")))||[],Y=N=>{const $=N.split(/\[\[img:(\d+)\]\]/g),g=new Set,ae=[];for(let re=0;re<$.length;re++)if(re%2===0)$[re]&&ae.push(e.jsx("span",{className:"whitespace-pre-wrap",children:$[re]},`t-${re}`));else{const ve=Number($[re]);!Number.isNaN(ve)&&S[ve]&&(g.add(ve),ae.push(e.jsx("div",{className:"my-4 w-[calc(100%+2rem)] -mx-4 overflow-hidden rounded-2xl border border-gray-100 bg-white md:w-[calc(100%+3rem)] md:-mx-6",children:e.jsx("img",{src:S[ve].data,alt:`Î≥∏Î¨∏ Ïù¥ÎØ∏ÏßÄ ${ve+1}`,className:"w-full h-auto object-cover",loading:"lazy"})},`img-${re}`)))}return{nodes:ae,used:g}},L=!!j.password,te=j.type==="notice_all"||j.type==="family_events";return e.jsxs("div",{className:"max-w-4xl mx-auto py-8 px-2 sm:px-5 animate-fadeIn",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("button",{onClick:()=>u(null),className:"flex items-center text-gray-500 hover:text-sky-primary group font-bold",children:[e.jsx("i",{className:"fas fa-arrow-left mr-2 group-hover:-translate-x-1 transition-transform"})," Î™©Î°ùÏúºÎ°ú"]}),e.jsx("div",{className:"flex space-x-2",children:(p==="admin"||L&&!R&&!M)&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:xe,className:"flex items-center font-black text-xs px-5 py-3 rounded-2xl bg-sky-50 text-sky-600 hover:bg-sky-100 transition-all shadow-md active:scale-95 border border-sky-100",children:[e.jsx("i",{className:"fas fa-edit mr-2"})," ÏàòÏ†ï"]}),e.jsxs("button",{onClick:we,className:"flex items-center font-black text-xs px-5 py-3 rounded-2xl bg-red-50 text-red-600 hover:bg-red-100 transition-all shadow-md active:scale-95 border border-red-100",children:[e.jsx("i",{className:"fas fa-trash-alt mr-2"})," ÏÇ≠Ï†ú"]})]})})]}),e.jsxs("article",{className:"bg-white rounded-[2.5rem] border p-10 md:p-14 shadow-sm relative overflow-hidden mb-10",children:[(R||M)&&e.jsx("div",{className:"absolute inset-0 z-10 bg-white/95 backdrop-blur-md flex items-center justify-center p-8",children:e.jsxs("div",{className:"max-w-xs w-full text-center",children:[e.jsx("i",{className:`fas ${M?"fa-key":"fa-lock"} text-5xl ${M?"text-sky-500":"text-red-500"} mb-5`}),e.jsx("h4",{className:"text-xl font-black mb-4",children:M?"ÏàòÏ†ï ÎπÑÎ∞ÄÎ≤àÌò∏":"ÏÇ≠Ï†ú ÎπÑÎ∞ÄÎ≤àÌò∏"}),e.jsx("input",{type:"password",value:A,onChange:N=>q(N.target.value),className:`w-full border-2 rounded-2xl p-4 mb-6 text-center text-xl tracking-widest outline-none focus:border-opacity-100 ${M?"border-sky-100 focus:border-sky-500":"border-red-100 focus:border-red-500"}`,placeholder:"****",autoFocus:!0,onKeyDown:N=>N.key==="Enter"&&fe()}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>{W(!1),P(!1)},className:"flex-1 py-4 bg-gray-100 rounded-2xl text-sm font-black",children:"Ï∑®ÏÜå"}),e.jsx("button",{onClick:fe,className:`flex-1 py-4 text-white rounded-2xl text-sm font-black shadow-lg ${M?"bg-sky-500":"bg-red-500"}`,children:"ÌôïÏù∏"})]})]})}),e.jsxs("header",{className:"mb-12",children:[te&&e.jsx("span",{className:`inline-block px-3 py-1 rounded-lg text-[10px] font-black border mb-4 ${j.type==="notice_all"?"bg-sky-50 text-sky-600 border-sky-100":"bg-orange-50 text-orange-600 border-orange-100"}`,children:j.type==="notice_all"?"Í≥µÍ≥†/Í≥µÏßÄ":"Í≤ΩÏ°∞ÏÇ¨"}),e.jsx("h1",{className:"text-3xl md:text-4xl font-black mb-8 text-gray-900 leading-tight",children:j.title}),e.jsxs("div",{className:"flex flex-wrap items-center text-xs md:text-sm font-bold text-gray-400 border-b border-gray-50 pb-8 gap-y-2",children:[e.jsxs("span",{className:"flex items-center mr-8",children:[e.jsx("i",{className:"fas fa-user-circle mr-2.5 text-sky-primary/50"}),j.author]}),e.jsxs("span",{className:"flex items-center mr-8",children:[e.jsx("i",{className:"fas fa-calendar-alt mr-2.5"}),G(j.createdAt)]}),e.jsxs("span",{className:"flex items-center mr-8",children:[e.jsx("i",{className:"fas fa-eye mr-2.5"}),"Ï°∞Ìöå ",j.views]})]})]}),e.jsx("div",{className:"prose prose-sky max-w-none text-gray-700 leading-relaxed min-h-[120px] md:min-h-[200px] text-base md:text-lg prose-p:my-3",children:Y(j.content).nodes}),(()=>{const{used:N}=Y(j.content),$=S.filter((g,ae)=>!N.has(ae));return $.length===0?null:e.jsx("div",{className:"mt-14 space-y-8",children:$.map((g,ae)=>e.jsx("div",{className:"rounded-3xl overflow-hidden shadow-xl border border-gray-100",children:e.jsx("img",{src:g.data,alt:`Ï≤®Î∂Ä Ïù¥ÎØ∏ÏßÄ ${ae+1}`,className:"w-full h-auto object-contain bg-gray-50"})},ae))})})(),j.attachments&&j.attachments.length>0&&e.jsxs("div",{className:"mt-20 p-4 md:p-10 bg-gray-50/50 rounded-[2.5rem] border-2 border-dashed border-gray-200",children:[e.jsxs("p",{className:"text-xs font-black text-gray-400 mb-6 uppercase tracking-widest flex items-center",children:[e.jsx("i",{className:"fas fa-paperclip mr-2.5 text-sky-primary text-base"})," Ï≤®Î∂ÄÌååÏùº (",j.attachments.length,")"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:j.attachments.map((N,$)=>e.jsxs("div",{className:"bg-white p-4 rounded-2xl border flex flex-col gap-3 shadow-sm hover:border-sky-primary transition-all group sm:flex-row sm:items-center sm:justify-between",children:[e.jsx("div",{className:"flex items-start sm:items-center sm:min-w-0",children:e.jsx("span",{className:"text-sm font-bold text-gray-700 whitespace-normal break-words leading-snug sm:truncate",children:N.name})}),e.jsx("a",{href:N.data,download:N.name,className:"inline-flex w-fit items-center justify-center px-3 py-1.5 bg-sky-primary text-white text-[11px] font-black rounded-lg shadow-sm hover:opacity-90 active:scale-95 transition-all whitespace-nowrap",children:"Îã§Ïö¥Î°úÎìú"})]},$))})]})]}),e.jsxs("section",{className:"bg-white rounded-[2.5rem] border p-4 md:p-7 shadow-sm",children:[e.jsxs("h3",{className:"text-lg md:text-xl font-black text-gray-900 mb-3 md:mb-5 flex items-center",children:[e.jsx("i",{className:"fas fa-comments mr-2 md:mr-3 text-sky-primary"})," ÎåìÍ∏Ä",e.jsx("span",{className:"ml-3 bg-sky-50 text-sky-primary px-2 py-0.5 md:px-3 md:py-1 rounded-xl text-xs md:text-sm",children:((ye=j.comments)==null?void 0:ye.reduce((N,$)=>{var g;return N+1+(((g=$.replies)==null?void 0:g.length)||0)},0))||0})]}),e.jsx("div",{className:"space-y-3 md:space-y-4 mb-5 md:mb-7",children:(_e=j.comments)==null?void 0:_e.map(N=>e.jsxs("div",{className:"border-b border-gray-50 last:border-0 pb-5 md:pb-8 animate-fadeIn",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsxs("span",{className:"text-base font-black text-gray-900 flex items-center",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center mr-3 text-xs text-gray-400",children:e.jsx("i",{className:"fas fa-user"})}),N.author]}),Z(N.author)&&e.jsxs("div",{className:"relative",children:[e.jsx("button",{type:"button",onClick:()=>X(O===N.id?null:N.id),className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-50 text-gray-400","aria-label":"ÎåìÍ∏Ä Î©îÎâ¥",children:"‚ãÆ"}),O===N.id&&e.jsxs("div",{className:"absolute right-0 mt-2 w-28 bg-white border border-gray-100 rounded-xl shadow-lg overflow-hidden z-20",children:[e.jsx("button",{type:"button",onClick:()=>{k({commentId:N.id}),U(N.content),X(null)},className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50",children:"ÏàòÏ†ï"}),e.jsx("button",{type:"button",onClick:()=>{X(null),E==null||E(j.id,N.id)},className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50 text-red-600",children:"ÏÇ≠Ï†ú"})]})]})]}),(y==null?void 0:y.commentId)===N.id&&!y.parentId?e.jsxs("div",{className:"pl-11 mb-3",children:[e.jsx("textarea",{value:D,onChange:$=>U($.target.value),className:"w-full border-2 border-gray-100 rounded-2xl p-4 text-sm focus:border-sky-primary outline-none min-h-[70px] md:min-h-[90px] resize-none bg-gray-50/30"}),e.jsxs("div",{className:"flex gap-2 justify-end mt-2",children:[e.jsx("button",{type:"button",onClick:()=>{D.trim()&&(c==null||c(j.id,N.id,D),k(null))},className:"px-4 py-2 rounded-xl bg-gray-900 text-white text-sm font-black hover:bg-black active:scale-95 transition-all",children:"Ï†ÄÏû•"}),e.jsx("button",{type:"button",onClick:()=>k(null),className:"px-4 py-2 rounded-xl bg-gray-100 text-gray-700 text-sm font-black hover:bg-gray-200 active:scale-95 transition-all",children:"Ï∑®ÏÜå"})]})]}):e.jsx("p",{className:"text-base text-gray-600 leading-relaxed pl-11 mb-3",children:N.content}),e.jsxs("div",{className:"pl-11 flex items-center justify-between",children:[e.jsx("span",{className:"text-[11px] font-bold text-gray-300 uppercase",children:G(N.createdAt)}),p!=="guest"&&e.jsx("button",{onClick:()=>{ce(Ne===N.id?null:N.id),b("")},className:"text-xs font-black text-gray-400 hover:text-gray-500 hover:underline flex items-center",children:"ÎãµÍ∏ÄÏì∞Í∏∞"})]}),Ne===N.id&&e.jsx("form",{onSubmit:$=>ee($,N.id),className:"mt-3 ml-11 animate-fadeIn",children:e.jsxs("div",{className:"relative",children:[e.jsx("textarea",{value:se,onChange:$=>b($.target.value),placeholder:"Îî∞ÎúªÌïú ÎãµÍ∏ÄÏùÑ ÎÇ®Í≤®Ï£ºÏÑ∏Ïöî.",className:"w-full border-2 border-sky-50 rounded-2xl p-3 text-sm focus:border-sky-primary outline-none min-h-[50px] resize-none pr-24 bg-gray-50/50 md:min-h-[60px]",autoFocus:!0}),e.jsx("button",{type:"submit",disabled:!se.trim(),className:"absolute right-4 bottom-4 bg-sky-primary text-white px-5 py-2.5 rounded-xl text-xs font-black disabled:opacity-30 shadow-lg",children:"Îì±Î°ù"})]})}),N.replies&&N.replies.length>0&&e.jsx("div",{className:"mt-6 ml-11 space-y-6 border-l-2 border-gray-100 pl-6",children:N.replies.map($=>e.jsxs("div",{className:"animate-fadeIn",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-black text-gray-700 flex items-center",children:$.author}),Z($.author)&&e.jsxs("div",{className:"relative",children:[e.jsx("button",{type:"button",onClick:()=>X(O===$.id?null:$.id),className:"w-7 h-7 flex items-center justify-center rounded-full hover:bg-gray-50 text-gray-400","aria-label":"ÎãµÍ∏Ä Î©îÎâ¥",children:"‚ãÆ"}),O===$.id&&e.jsxs("div",{className:"absolute right-0 mt-2 w-28 bg-white border border-gray-100 rounded-xl shadow-lg overflow-hidden z-20",children:[e.jsx("button",{type:"button",onClick:()=>{k({commentId:$.id,parentId:N.id}),U($.content),X(null)},className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50",children:"ÏàòÏ†ï"}),e.jsx("button",{type:"button",onClick:()=>{X(null),E==null||E(j.id,$.id,N.id)},className:"w-full text-left px-4 py-2 text-sm hover:bg-gray-50 text-red-600",children:"ÏÇ≠Ï†ú"})]})]})]}),(y==null?void 0:y.commentId)===$.id&&y.parentId===N.id?e.jsxs("div",{className:"pl-7",children:[e.jsx("textarea",{value:D,onChange:g=>U(g.target.value),className:"w-full border-2 border-gray-100 rounded-2xl p-3 text-sm focus:border-sky-primary outline-none min-h-[50px] md:min-h-[60px] resize-none bg-gray-50/30"}),e.jsxs("div",{className:"flex gap-2 justify-end mt-2",children:[e.jsx("button",{type:"button",onClick:()=>{D.trim()&&(c==null||c(j.id,$.id,D,N.id),k(null))},className:"px-3 py-1.5 rounded-xl bg-gray-900 text-white text-xs font-black hover:bg-black active:scale-95 transition-all",children:"Ï†ÄÏû•"}),e.jsx("button",{type:"button",onClick:()=>k(null),className:"px-3 py-1.5 rounded-xl bg-gray-100 text-gray-700 text-xs font-black hover:bg-gray-200 active:scale-95 transition-all",children:"Ï∑®ÏÜå"})]})]}):e.jsx("p",{className:"text-sm text-gray-500 leading-relaxed pl-7",children:$.content}),e.jsx("div",{className:"pl-7 flex justify-end mt-1",children:e.jsx("span",{className:"text-[10px] font-bold text-gray-300 uppercase",children:G($.createdAt)})})]},$.id))})]},N.id))}),p!=="guest"&&e.jsxs("form",{onSubmit:H,className:"relative pt-3 md:pt-5 border-t",children:[e.jsx("textarea",{value:ie,onChange:N=>oe(N.target.value),className:"w-full border-2 border-gray-100 rounded-[2rem] p-3 md:p-4 text-sm md:text-base focus:border-sky-primary outline-none min-h-[44px] md:min-h-[70px] resize-none pr-24 md:pr-32 transition-all bg-gray-50/30"}),e.jsx("button",{type:"submit",disabled:!ie.trim(),className:"absolute right-4 bottom-4 md:right-8 md:bottom-8 bg-gray-900 text-white px-4 py-2 md:px-8 md:py-3.5 rounded-xl md:rounded-2xl text-xs md:text-sm font-black hover:bg-black disabled:opacity-30 shadow-lg md:shadow-xl active:scale-95 transition-all",children:"ÎåìÍ∏Ä Îì±Î°ù"})]})]})]})}const Ce=()=>{const S=r.filter(te=>te.type==="notice_all").sort((te,N)=>new Date(N.createdAt).getTime()-new Date(te.createdAt).getTime()).slice(0,5),Y=r.filter(te=>te.type==="family_events").sort((te,N)=>new Date(N.createdAt).getTime()-new Date(te.createdAt).getTime()).slice(0,5),L=({title:te,icon:N,colorClass:$,data:g})=>e.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-gray-100 shadow-sm overflow-hidden flex flex-col h-full",children:[e.jsx("div",{className:`p-8 border-b border-gray-50 flex justify-between items-center ${$}`,children:e.jsxs("h3",{className:"text-xl font-black flex items-center",children:[e.jsx("i",{className:`fas ${N} mr-3`}),te]})}),e.jsx("div",{className:"flex-grow",children:g.length===0?e.jsx("div",{className:"py-20 text-center text-gray-300 font-bold italic",children:"ÏµúÍ∑º Í≤åÏãúÍ∏ÄÏù¥ ÏóÜÏäµÎãàÎã§."}):e.jsx("ul",{className:"divide-y divide-gray-50",children:g.map(ae=>e.jsx("li",{children:e.jsx("button",{onClick:()=>u(ae.id),className:"w-full text-left p-6 hover:bg-gray-50 transition-colors group",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"font-bold text-gray-700 truncate group-hover:text-sky-primary transition-colors flex-1 mr-4",children:ae.title}),e.jsx("span",{className:"text-[11px] text-gray-300 font-black whitespace-nowrap",children:G(ae.createdAt)})]})})},ae.id))})})]});return e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 animate-fadeIn",children:[e.jsx(L,{title:"Í≥µÍ≥†/Í≥µÏßÄ",icon:"fa-bullhorn",colorClass:"bg-sky-primary text-white",data:S}),e.jsx(L,{title:"Í≤ΩÏ°∞ÏÇ¨",icon:"fa-bullhorn",colorClass:"bg-sky-primary text-white",data:Y})]})},he=r.filter(S=>S.type===s).sort((S,Y)=>new Date(Y.createdAt).getTime()-new Date(S.createdAt).getTime()),ge=s==="free"||s==="resources"||s==="notice_all"||s==="family_events";return e.jsxs("div",{className:"max-w-7xl mx-auto py-10 px-5 animate-fadeIn",children:[e.jsxs("div",{className:"flex justify-between items-center mb-12",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-3xl md:text-4xl font-black text-gray-900 flex items-center tracking-tight",children:[e.jsx("i",{className:`fas ${(Q==null?void 0:Q.icon)||"fa-list"} mr-5 text-sky-primary`}),Q==null?void 0:Q.label]}),e.jsx("p",{className:"text-gray-400 font-bold text-xs mt-2 ml-1",children:"Ïö∞Î¶¨ÎÖ∏ÎèôÏ°∞Ìï© ÏÜåÌÜµ Í≥µÍ∞Ñ"})]}),p!=="guest"&&(p==="admin"||s==="free")&&s!=="notice"&&e.jsxs("button",{onClick:()=>l(s),className:"bg-sky-primary text-white px-4 py-2 md:px-8 md:py-4 rounded-xl md:rounded-[1.5rem] font-black text-xs md:text-base shadow-xl shadow-sky-100 hover:opacity-90 active:scale-95 transition-all",children:[e.jsx("i",{className:"fas fa-pen-nib mr-1.5 md:mr-2"})," Í∏ÄÏì∞Í∏∞"]})]}),s==="notice"?Ce():e.jsx("div",{className:"bg-white shadow-xl rounded-[3rem] border border-gray-50 overflow-hidden",children:e.jsx("ul",{className:"divide-y divide-gray-100",children:he.length===0?e.jsx("li",{className:"px-6 py-40 text-center text-gray-300 font-bold italic text-lg",children:"ÏûëÏÑ±Îêú Í≤åÏãúÍ∏ÄÏù¥ ÏóÜÏäµÎãàÎã§."}):he.map(S=>{var Y,L;return e.jsx("li",{children:e.jsx("button",{onClick:()=>u(S.id),className:`block w-full text-left hover:bg-gray-50/40 transition-all group ${ge?"p-4 md:p-8":"p-8 md:p-10"}`,children:e.jsxs("div",{className:`flex justify-between items-start ${ge?"mb-2":"mb-4"}`,children:[e.jsxs("div",{className:"flex-1 pr-4",children:[e.jsx("p",{className:`${ge?"text-base md:text-xl":"text-lg md:text-xl"} font-black text-gray-800 truncate group-hover:text-sky-primary transition-colors`,children:S.title}),e.jsxs("div",{className:`${ge?"mt-1":"mt-3"} flex items-center space-x-4 text-xs md:text-sm text-gray-400 font-bold uppercase tracking-wider`,children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx("i",{className:"fas fa-user-circle mr-2 text-sky-primary/30"}),S.author]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx("i",{className:"fas fa-eye mr-2"}),"Ï°∞Ìöå ",S.views]}),(((Y=S.comments)==null?void 0:Y.length)||0)>0&&e.jsxs("span",{className:"flex items-center text-sky-500 font-black",children:[e.jsx("i",{className:"fas fa-comment-dots mr-2"}),(L=S.comments)==null?void 0:L.length]})]}),p==="admin"&&S.password&&e.jsxs("div",{className:`${ge?"mt-1":"mt-2"} text-xs md:text-sm font-black text-red-500`,children:["ÎπÑÎ∞ÄÎ≤àÌò∏: ",S.password]})]}),e.jsx("span",{className:`${ge?"text-[10px] md:text-sm":"text-xs md:text-sm"} text-gray-300 font-black whitespace-nowrap pt-1`,children:G(S.createdAt)})]})})},S.id)})})})]})},is=({onSelect:s})=>e.jsx("div",{className:"md:hidden",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6",children:[e.jsx("h1",{className:"sr-only",children:"Í≥µÏßÄÏÇ¨Ìï≠"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>s("notice_all"),className:"w-full flex items-center justify-end bg-white border border-gray-200 rounded-2xl px-4 py-4 shadow-sm hover:bg-gray-50 active:scale-[0.99] transition",children:[e.jsx("span",{className:"sr-only",children:"Í≥µÍ≥†/Í≥µÏßÄ"}),e.jsx("i",{className:"fas fa-chevron-right text-gray-400"})]}),e.jsxs("button",{onClick:()=>s("family_events"),className:"w-full flex items-center justify-end bg-white border border-gray-200 rounded-2xl px-4 py-4 shadow-sm hover:bg-gray-50 active:scale-[0.99] transition",children:[e.jsx("span",{className:"sr-only",children:"Í≤ΩÏ°∞ÏÇ¨"}),e.jsx("i",{className:"fas fa-chevron-right text-gray-400"})]})]})]})}),Ze=({posts:s,userRole:r,type:l,selectedPostId:o,onWriteClick:x,onEditClick:u,onSelectPost:p,onDeletePost:f,onSaveComment:v,onEditComment:c,onDeleteComment:E})=>e.jsx("div",{className:"scroll-mt-24",children:e.jsx(kt,{type:l,posts:s,onWriteClick:()=>x(l),onEditClick:u,selectedPostId:o,onSelectPost:p,userRole:r,onDeletePost:f,onSaveComment:v,onEditComment:c,onDeleteComment:E})}),os="modulepreload",cs=function(s){return"/"+s},bt={},Qe=function(r,l,o){let x=Promise.resolve();if(l&&l.length>0){let p=function(c){return Promise.all(c.map(E=>Promise.resolve(E).then(C=>({status:"fulfilled",value:C}),C=>({status:"rejected",reason:C}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),v=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));x=p(l.map(c=>{if(c=cs(c),c in bt)return;bt[c]=!0;const E=c.endsWith(".css"),C=E?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${C}`))return;const R=document.createElement("link");if(R.rel=E?"stylesheet":os,E||(R.as="script"),R.crossOrigin="",R.href=c,v&&R.setAttribute("nonce",v),document.head.appendChild(R),E)return new Promise((W,M)=>{R.addEventListener("load",W),R.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${c}`)))})}))}function u(p){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=p,window.dispatchEvent(f),!f.defaultPrevented)throw p}return x.then(p=>{for(const f of p||[])f.status==="rejected"&&u(f.reason);return r().catch(u)})},ds=({settings:s,setSettings:r,members:l,posts:o,deletedPosts:x,onRestorePost:u,onPermanentDelete:p,onEditPost:f,onViewPost:v,onClose:c,onRemoveMember:E,onApproveMember:C})=>{var de,je,Ie,Ee,Pe;const R=[i.useRef(null),i.useRef(null),i.useRef(null),i.useRef(null),i.useRef(null)],W=i.useRef(null),M=i.useRef(null),P=i.useRef(null),[A,q]=i.useState("members"),[ie,oe]=i.useState(null),[Ne,ce]=i.useState(null),[se,b]=i.useState(((de=s.offices[0])==null?void 0:de.id)||null),[O,X]=i.useState(null),[y,k]=i.useState(null),[D,U]=i.useState(!1),[Z,j]=i.useState(""),[G,Q]=i.useState(""),[xe,we]=i.useState(""),[fe,H]=i.useState(""),ee=t=>{if(!t)return"";const m=new Date(t);if(isNaN(m.getTime()))return t;const d=m.getFullYear(),_=String(m.getMonth()+1).padStart(2,"0"),I=String(m.getDate()).padStart(2,"0");return`${d}.${_}.${I}`},Ce=t=>{if(!t)return 0;const m=t.indexOf(","),d=m>=0?t.slice(m+1):t;let _=0;return d.endsWith("==")?_=2:d.endsWith("=")&&(_=1),Math.max(0,Math.floor(d.length*3/4)-_)},he=t=>{if(!Number.isFinite(t)||t<=0)return"0B";const m=["B","KB","MB","GB"];let d=t,_=0;for(;d>=1024&&_<m.length-1;)d/=1024,_+=1;const I=_===0?0:1;return`${d.toFixed(I)}${m[_]}`},ge=(t,m)=>{try{const d=document.createElement("a");d.href=t,d.download=m||"download",document.body.appendChild(d),d.click(),document.body.removeChild(d)}catch(d){console.error("Îã§Ïö¥Î°úÎìú Ïã§Ìå®:",d),alert("Îã§Ïö¥Î°úÎìúÏóê Ïã§Ìå®ÌñàÏäµÎãàÎã§. (Î∏åÎùºÏö∞Ï†Ä Î≥¥Ïïà Ï†ïÏ±Ö)")}},ue=t=>{switch(t){case"notice_all":return"Í≥µÍ≥†/Í≥µÏßÄ";case"family_events":return"Í≤ΩÏ°∞ÏÇ¨";case"free":return"ÏûêÏú†Í≤åÏãúÌåê";case"resources":return"ÏûêÎ£åÏã§";case"intro":return"ÏÜåÍ∞ú";case"signup":return"Í∞ÄÏûÖ";case"trash":return"Ìú¥ÏßÄÌÜµ";default:return t}},K=i.useMemo(()=>{const t=[];for(const J of o||[]){const V=J.attachments||[];for(const be of V){const Ye=Ce(be.data);t.push({postId:J.id,postTitle:J.title,postType:J.type,postCreatedAt:J.createdAt,fileName:be.name,mime:be.type,bytes:Ye,dataUrl:be.data})}}const m=t.reduce((J,V)=>J+V.bytes,0),d=t.length,_=t.filter(J=>(J.mime||"").startsWith("image/")),I=t.filter(J=>!(J.mime||"").startsWith("image/")),le=new Map;for(const J of t){const V=le.get(J.postType)||{bytes:0,files:0};V.bytes+=J.bytes,V.files+=1,le.set(J.postType,V)}const F=Array.from(le.entries()).map(([J,V])=>({type:J,...V})).sort((J,V)=>V.bytes-J.bytes),ne=[...t].sort((J,V)=>V.bytes-J.bytes).slice(0,10),qe=ne[0];return{rows:t,totalBytes:m,totalFiles:d,imageBytes:_.reduce((J,V)=>J+V.bytes,0),imageFiles:_.length,docBytes:I.reduce((J,V)=>J+V.bytes,0),docFiles:I.length,boardRows:F,topFiles:ne,largest:qe}},[o]),ye=t=>{const{name:m,value:d}=t.target;r({...s,[m]:d})},_e=(t,m)=>{var _;const d=(_=t.target.files)==null?void 0:_[0];if(d){const I=new FileReader;I.onloadend=()=>{r({...s,[m]:I.result})},I.readAsDataURL(d)}},S=(t,m)=>{var _;const d=(_=t.target.files)==null?void 0:_[0];if(d){const I=new FileReader;I.onloadend=()=>{const F=[...s.heroImageUrls||[s.heroImageUrl]];for(;F.length<5;)F.push("");F[m]=I.result,r(m===0?{...s,heroImageUrls:F,heroImageUrl:F[0]}:{...s,heroImageUrls:F})},I.readAsDataURL(d)}},Y=t=>{const m=[...s.heroImageUrls||[]];m[t]&&(m[t]="",r({...s,heroImageUrls:m}))},L=(t,m)=>{var _;const d=(_=t.target.files)==null?void 0:_[0];if(d){const I=new FileReader;I.onloadend=()=>{const le=s.offices.map(F=>F.id===m?{...F,mapImageUrl:I.result}:F);r({...s,offices:le})},I.readAsDataURL(d)}},te=()=>{if(!Z||!fe)return alert("Ïó∞ÎèÑÏôÄ ÎÇ¥Ïö©ÏùÄ ÌïÑÏàòÎ°ú ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.");let t=`${Z}ÎÖÑ`;G&&(t+=` ${G}Ïõî`),xe&&(t+=` ${xe}Ïùº`);const m=[{year:t,text:fe},...s.history||[]];r({...s,history:m}),j(""),Q(""),we(""),H("")},N=t=>{const m=s.history.filter((d,_)=>_!==t);r({...s,history:m})},$=()=>{if(l.length===0)return alert("Îã§Ïö¥Î°úÎìúÌï† Î™ÖÎã®Ïù¥ ÏóÜÏäµÎãàÎã§.");const t=["ÏÑ±Ìï®","Ïó∞ÎùΩÏ≤ò","Ïù¥Î©îÏùº","Ï∞®Í≥†ÏßÄ","Í∞ÄÏûÖÏùº","ÏäπÏù∏ÏÉÅÌÉú"],m=l.map(F=>[F.name,F.phone,F.email,F.garage,ee(F.signupDate),F.isApproved?"ÏäπÏù∏":"ÎØ∏ÏäπÏù∏"]),d="\uFEFF"+[t.join(","),...m.map(F=>F.join(","))].join(`
`),_=new Blob([d],{type:"text/csv;charset=utf-8;"}),I=URL.createObjectURL(_),le=document.createElement("a");le.href=I,le.download="Ïö∞Î¶¨ÎÖ∏ÎèôÏ°∞Ìï©_Ï°∞Ìï©ÏõêÎ™ÖÎã®.csv",le.click()},g=()=>{const t={settings:s,posts:o,members:l,deletedPosts:x,version:"1.2",date:new Date().toLocaleString()},m=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),d=URL.createObjectURL(m),_=document.createElement("a");_.href=d,_.download=`Ïö∞Î¶¨ÎÖ∏ÎèôÏ°∞Ìï©_Ï†ÑÏ≤¥Î∞±ÏóÖ_${new Date().toISOString().split("T")[0]}.json`,_.click()},ae=()=>{const t=K.rows;if(!t||t.length===0)return alert("Ï≤®Î∂ÄÌååÏùºÏù¥ ÏóÜÏäµÎãàÎã§.");const _="\uFEFF"+[["Í≤åÏãúÍ∏ÄID","Í≤åÏãúÌåê","Í≤åÏãúÍ∏ÄÏ†úÎ™©","Í≤åÏãúÍ∏ÄÏûëÏÑ±Ïùº","ÌååÏùºÎ™Ö","MIME","Î∞îÏù¥Ìä∏","Ïö©Îüâ"].join(","),...t.map(ne=>[ne.postId,ue(ne.postType),(ne.postTitle||"").replace(/\n/g," ").replace(/,/g," "),ne.postCreatedAt,(ne.fileName||"").replace(/,/g," "),ne.mime||"",String(ne.bytes),he(ne.bytes)].join(","))].join(`
`),I=new Blob([_],{type:"text/csv;charset=utf-8;"}),le=URL.createObjectURL(I),F=document.createElement("a");F.href=le,F.download=`Ïö∞Î¶¨ÎÖ∏ÎèôÏ°∞Ìï©_Ï≤®Î∂ÄÌååÏùº_ÏÇ¨Ïö©Îüâ_${new Date().toISOString().split("T")[0]}.csv`,F.click()},re=()=>{const t={generatedAt:new Date().toISOString(),summary:{totalFiles:K.totalFiles,totalBytes:K.totalBytes,imageFiles:K.imageFiles,imageBytes:K.imageBytes,docFiles:K.docFiles,docBytes:K.docBytes},byBoard:K.boardRows.map(I=>({board:ue(I.type),boardKey:I.type,files:I.files,bytes:I.bytes})),files:K.rows.map(I=>({postId:I.postId,boardKey:I.postType,board:ue(I.postType),postTitle:I.postTitle,postCreatedAt:I.postCreatedAt,fileName:I.fileName,mime:I.mime,bytes:I.bytes}))},m=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),d=URL.createObjectURL(m),_=document.createElement("a");_.href=d,_.download=`Ïö∞Î¶¨ÎÖ∏ÎèôÏ°∞Ìï©_Ï≤®Î∂ÄÌååÏùº_ÏÇ¨Ïö©Îüâ_${new Date().toISOString().split("T")[0]}.json`,_.click()},ve=t=>{var _;const m=(_=t.target.files)==null?void 0:_[0];if(!m)return;const d=new FileReader;d.onload=I=>{var le;try{const F=JSON.parse((le=I.target)==null?void 0:le.result);confirm("Ï†ÑÏ≤¥ Îç∞Ïù¥ÌÑ∞Î•º ÎçÆÏñ¥ÏîåÏö∞ÏãúÍ≤†ÏäµÎãàÍπå? Ïù¥ ÏûëÏóÖÏùÄ Ï∑®ÏÜåÌï† Ïàò ÏóÜÏäµÎãàÎã§.")&&(localStorage.setItem("union_settings",JSON.stringify(F.settings)),localStorage.setItem("union_posts",JSON.stringify(F.posts)),localStorage.setItem("union_members",JSON.stringify(F.members)),localStorage.setItem("union_deleted_posts",JSON.stringify(F.deletedPosts||[])),alert("Îç∞Ïù¥ÌÑ∞ Î≥µÏõêÏù¥ ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§. ÌéòÏù¥ÏßÄÎ•º ÏÉàÎ°úÍ≥†Ïπ®Ìï©ÎãàÎã§."),window.location.reload())}catch{alert("ÌååÏùºÏùÑ ÏùΩÎäî Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.")}},d.readAsText(m)};return e.jsxs("div",{className:"max-w-7xl mx-auto py-8 px-4 animate-fadeIn",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8 bg-white p-6 rounded-3xl border shadow-sm",children:[e.jsxs("div",{className:"flex items-center flex-nowrap whitespace-nowrap",children:[e.jsx("div",{className:"w-14 h-14 bg-sky-primary text-white rounded-2xl flex items-center justify-center mr-5 shadow-lg shadow-sky-100",children:e.jsx("i",{className:"fas fa-shield-alt text-2xl"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900 tracking-tight",children:"Í¥ÄÎ¶¨Ïûê Ïª§Îß®Îìú ÏÑºÌÑ∞"}),e.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-wider mt-1",children:"Secure System Management"})]})]}),e.jsx("button",{onClick:c,className:"w-10 h-10 flex items-center justify-center hover:bg-gray-100 rounded-full transition-colors text-gray-400",children:e.jsx("i",{className:"fas fa-times text-2xl"})})]}),e.jsx("div",{className:"flex space-x-1 mb-8 bg-gray-100/50 p-1.5 rounded-2xl overflow-x-auto scrollbar-hide no-scrollbar",children:[{id:"members",label:"Ï°∞Ìï©Ïõê Í¥ÄÎ¶¨",icon:"fa-users"},{id:"intro",label:"Ïù∏ÏÇ¨Îßê/ÏÜåÍ∞ú Í¥ÄÎ¶¨",icon:"fa-info-circle"},{id:"offices",label:"Ï∞æÏïÑÏò§ÏãúÎäî Í∏∏",icon:"fa-map-marker-alt"},{id:"posts",label:"Í≤åÏãúÍ∏Ä/Ìú¥ÏßÄÌÜµ",icon:"fa-file-alt"},{id:"storage",label:"Ï≤®Î∂ÄÌååÏùº ÏÇ¨Ïö©Îüâ",icon:"fa-paperclip"},{id:"push",label:"Ìë∏Ïãú ÏïåÎ¶º",icon:"fa-bell"},{id:"settings",label:"ÏãúÏä§ÌÖú ÏÑ§Ï†ï",icon:"fa-cog"}].map(t=>e.jsxs("button",{onClick:()=>q(t.id),className:`flex items-center space-x-2 px-6 py-3.5 rounded-xl text-sm font-black transition-all whitespace-nowrap ${A===t.id?"bg-white text-sky-primary shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:[e.jsx("i",{className:`fas ${t.icon}`}),e.jsx("span",{children:t.label})]},t.id))}),e.jsxs("div",{className:"space-y-6",children:[A==="members"&&e.jsxs("div",{className:"bg-white rounded-[2.5rem] border shadow-sm overflow-hidden animate-fadeIn",children:[e.jsxs("div",{className:"p-8 border-b flex justify-between items-center bg-gray-50/30 relative",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-gray-900",children:"Í∞ÄÏûÖ Ïã†Ï≤≠ Î™ÖÎã®"}),e.jsxs("p",{className:"text-xs text-gray-400 mt-1 font-bold",children:["ÌòÑÏû¨ Ï¥ù ",l.length,"Î™ÖÏùò Ïã†Ï≤≠ÏûêÍ∞Ä ÏûàÏäµÎãàÎã§."]})]}),e.jsx("button",{onClick:$,className:"absolute right-6 bottom-4 px-3 py-1.5 sm:px-6 sm:py-3 bg-emerald-600 text-white rounded-2xl font-black shadow-lg shadow-emerald-50 hover:bg-emerald-700 transition-all text-[11px] sm:text-xs whitespace-nowrap sm:static sm:right-auto sm:bottom-auto sm:ml-4",children:"ÎÇ¥Î†§Î∞õÍ∏∞"})]}),e.jsx("div",{className:"sm:hidden p-6 space-y-3",children:l.length===0?e.jsx("div",{className:"py-16 text-center text-gray-400 font-bold italic",children:"Í∞ÄÏûÖ Ïã†Ï≤≠ Î™ÖÎã®Ïù¥ ÏóÜÏäµÎãàÎã§."}):l.map(t=>e.jsx("div",{className:"bg-white border border-gray-100 rounded-2xl p-4 shadow-sm",children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("div",{className:"font-black text-gray-900 truncate",children:t.name}),t.isApproved?e.jsx("span",{className:"bg-sky-100 text-sky-600 text-[10px] px-2 py-0.5 rounded-full font-black whitespace-nowrap",children:"ÏäπÏù∏Îê®"}):e.jsx("span",{className:"bg-amber-100 text-amber-700 text-[10px] px-2 py-0.5 rounded-full font-black whitespace-nowrap",children:"ÎØ∏ÏäπÏù∏"})]}),e.jsxs("div",{className:"mt-2 space-y-1 text-xs text-gray-600",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("span",{className:"text-gray-400 font-bold w-12 shrink-0",children:"Ïó∞ÎùΩÏ≤ò"}),e.jsx("span",{className:"font-bold whitespace-nowrap break-keep",children:String(t.phone??"").replace(/\s+/g,"")})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("span",{className:"text-gray-400 font-bold w-12 shrink-0",children:"Ïù¥Î©îÏùº"}),e.jsx("span",{className:"truncate",children:t.email})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("span",{className:"text-gray-400 font-bold w-12 shrink-0",children:"Ï∞®Í≥†ÏßÄ"}),e.jsx("span",{className:"font-bold whitespace-nowrap break-keep",children:t.garage})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("span",{className:"text-gray-400 font-bold w-12 shrink-0",children:"Í∞ÄÏûÖÏùº"}),e.jsx("span",{className:"font-bold whitespace-nowrap",children:ee(t.signupDate)})]})]})]}),e.jsxs("div",{className:"relative shrink-0",children:[e.jsx("button",{onClick:()=>oe(ie===t.id?null:t.id),className:"w-9 h-9 rounded-xl border border-gray-100 bg-gray-50 text-gray-700 flex items-center justify-center font-black active:scale-95","aria-label":"Ï°∞Ìï©Ïõê Í¥ÄÎ¶¨ Î©îÎâ¥",children:"‚ãØ"}),ie===t.id&&e.jsxs("div",{className:"absolute right-0 mt-2 w-40 bg-white border border-gray-100 rounded-2xl shadow-lg overflow-hidden z-20",children:[!t.isApproved&&e.jsx("button",{onClick:()=>{oe(null),confirm(`${t.name} Ï°∞Ìï©ÏõêÏùò Í∞ÄÏûÖÏùÑ ÏäπÏù∏ÌïòÏãúÍ≤†ÏäµÎãàÍπå?`)&&(C==null||C(t.id))},className:"w-full text-left px-4 py-3 text-xs font-black text-sky-600 hover:bg-sky-50 whitespace-nowrap",children:"‚úì Í∞ÄÏûÖÏäπÏù∏"}),e.jsx("button",{onClick:()=>{oe(null),confirm(`${t.name} Ï°∞Ìï©ÏõêÏùÑ Í∞ïÏ†ú ÌÉàÌá¥ÏãúÌÇ§Í≤†ÏäµÎãàÍπå?`)&&(E==null||E(t.id))},className:"w-full text-left px-4 py-3 text-xs font-black text-red-500 hover:bg-red-50 whitespace-nowrap",children:"‚õî Í∞ïÏ†úÌÉàÌá¥"})]})]})]})},t.id))}),e.jsx("div",{className:"overflow-x-auto hidden sm:block",children:e.jsxs("table",{className:"w-full text-sm text-left",children:[e.jsx("thead",{className:"bg-gray-50 text-[10px] font-black text-gray-400 uppercase tracking-widest",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-8 py-5 whitespace-nowrap",children:"ÏÑ±Ìï®"}),e.jsx("th",{className:"px-8 py-5",children:"Ïó∞ÎùΩÏ≤ò"}),e.jsx("th",{className:"px-8 py-5",children:"Ïù¥Î©îÏùº"}),e.jsx("th",{className:"px-8 py-5 whitespace-nowrap",children:"Ï∞®Í≥†ÏßÄ"}),e.jsx("th",{className:"px-8 py-5",children:"Í∞ÄÏûÖÏùº"}),e.jsx("th",{className:"px-8 py-5 whitespace-nowrap",children:"Í¥ÄÎ¶¨"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-50",children:l.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-8 py-20 text-center text-gray-400 font-bold italic",children:"ÏïÑÏßÅ Í∞ÄÏûÖ Ïã†Ï≤≠ÏûêÍ∞Ä ÏóÜÏäµÎãàÎã§."})}):l.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[e.jsx("td",{className:"px-8 py-5 font-black text-gray-900",children:e.jsxs("div",{className:"flex items-center flex-nowrap whitespace-nowrap",children:[t.name,t.isApproved&&e.jsx("span",{className:"ml-2 bg-sky-100 text-sky-600 text-[8px] px-1.5 py-0.5 rounded-full font-black whitespace-nowrap",children:"ÏäπÏù∏Îê®"})]})}),e.jsx("td",{className:"px-8 py-5 text-gray-600 whitespace-nowrap",children:e.jsx("span",{className:"inline-block whitespace-nowrap break-keep",children:String(t.phone??"").replace(/\s+/g,"")})}),e.jsx("td",{className:"px-8 py-5 text-gray-600 font-medium",children:t.email}),e.jsx("td",{className:"px-8 py-5 text-gray-600 font-bold whitespace-nowrap",children:t.garage}),e.jsx("td",{className:"px-8 py-5 text-gray-400 text-xs font-medium",children:ee(t.signupDate)}),e.jsx("td",{className:"px-8 py-5",children:e.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:gap-0 sm:space-x-2",children:[!t.isApproved&&e.jsxs("button",{onClick:()=>{confirm(`${t.name} Ï°∞Ìï©ÏõêÏùò Í∞ÄÏûÖÏùÑ ÏäπÏù∏ÌïòÏãúÍ≤†ÏäµÎãàÍπå?`)&&(C==null||C(t.id))},className:"px-4 py-2 bg-sky-50 text-sky-600 rounded-xl text-[10px] font-black hover:bg-sky-primary hover:text-white transition-all border border-sky-100 shadow-sm active:scale-95 flex items-center whitespace-nowrap",children:[e.jsx("i",{className:"fas fa-check mr-1.5"})," Í∞ÄÏûÖÏäπÏù∏"]}),e.jsxs("button",{onClick:()=>{confirm(`${t.name} Ï°∞Ìï©ÏõêÏùÑ Í∞ïÏ†ú ÌÉàÌá¥ÏãúÌÇ§Í≤†ÏäµÎãàÍπå?`)&&(E==null||E(t.id))},className:"px-4 py-2 bg-red-50 text-red-600 rounded-xl text-[10px] font-black hover:bg-red-500 hover:text-white transition-all border border-red-100 shadow-sm active:scale-95 flex items-center whitespace-nowrap",children:[e.jsx("i",{className:"fas fa-user-minus mr-1.5"})," Í∞ïÏ†úÌÉàÌá¥"]})]})})]},t.id))})]})})]}),A==="intro"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 animate-fadeIn",children:[e.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border shadow-sm space-y-8",children:[e.jsxs("h3",{className:"font-black text-gray-900 text-lg flex items-center whitespace-nowrap",children:[e.jsx("i",{className:"fas fa-comment-dots mr-3 text-sky-primary"})," Ïù∏ÏÇ¨Îßê Ìé∏Ïßë"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"aspect-video bg-gray-100 rounded-2xl overflow-hidden border relative group",children:[e.jsx("img",{src:s.greetingImageUrl,className:"w-full h-full object-cover"}),e.jsx("button",{onClick:()=>{var t;return(t=W.current)==null?void 0:t.click()},className:"absolute inset-0 bg-black/40 text-white opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center font-bold",children:"ÏÇ¨ÏßÑ ÍµêÏ≤¥ÌïòÍ∏∞"}),e.jsx("input",{type:"file",ref:W,className:"hidden",accept:"image/*",onChange:t=>_e(t,"greetingImageUrl")})]}),e.jsx("input",{type:"text",name:"greetingTitle",value:s.greetingTitle,onChange:ye,className:"w-full border-2 border-gray-100 rounded-xl p-4 text-sm font-bold focus:border-sky-primary outline-none",placeholder:"Ïù∏ÏÇ¨Îßê Ï†úÎ™©"}),e.jsx("textarea",{name:"greetingMessage",value:s.greetingMessage,onChange:ye,className:"w-full border-2 border-gray-100 rounded-xl p-4 text-sm h-40 focus:border-sky-primary outline-none resize-none",placeholder:"Ïù∏ÏÇ¨Îßê Î≥∏Î¨∏"})]})]}),e.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border shadow-sm space-y-8",children:[e.jsxs("h3",{className:"font-black text-gray-900 text-lg flex items-center whitespace-nowrap",children:[e.jsx("i",{className:"fas fa-history mr-3 text-sky-primary"})," Ïó∞ÌòÅ Îç∞Ïù¥ÌÑ∞ Í¥ÄÎ¶¨"]}),e.jsxs("div",{className:"bg-sky-50/50 p-6 rounded-2xl border border-sky-100 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsx("input",{type:"text",placeholder:"Ïó∞(2025)",value:Z,onChange:t=>j(t.target.value),className:"border rounded-lg p-3 text-sm outline-none focus:border-sky-primary"}),e.jsx("input",{type:"text",placeholder:"Ïõî(01)",value:G,onChange:t=>Q(t.target.value),className:"border rounded-lg p-3 text-sm outline-none focus:border-sky-primary"}),e.jsx("input",{type:"text",placeholder:"Ïùº(01)",value:xe,onChange:t=>we(t.target.value),className:"border rounded-lg p-3 text-sm outline-none focus:border-sky-primary"})]}),e.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:gap-0 sm:space-x-2",children:[e.jsx("input",{type:"text",placeholder:"Ïó∞ÌòÅ ÎÇ¥Ïö©ÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî",value:fe,onChange:t=>H(t.target.value),className:"flex-1 border rounded-lg p-3 text-sm outline-none focus:border-sky-primary"}),e.jsx("button",{onClick:te,className:"px-6 py-3 bg-sky-primary text-white rounded-lg font-black text-sm whitespace-nowrap shadow-md",children:"Ï∂îÍ∞Ä"})]})]}),e.jsx("div",{className:"space-y-2 max-h-80 overflow-y-auto pr-2 custom-scrollbar",children:s.history.map((t,m)=>e.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-xl group border border-transparent hover:border-sky-100 transition-all",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("span",{className:"font-black text-sky-700 text-sm w-32",children:t.year}),e.jsx("span",{className:"text-sm text-gray-700 font-medium",children:t.text})]}),e.jsx("button",{onClick:()=>N(m),className:"text-red-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx("i",{className:"fas fa-trash-alt"})})]},m))})]})]}),A==="offices"&&e.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border shadow-sm animate-fadeIn",children:[e.jsxs("h3",{className:"font-black text-gray-900 text-lg mb-8 flex items-center whitespace-nowrap",children:[e.jsx("i",{className:"fas fa-map-marked-alt mr-3 text-sky-primary"})," Ï∞æÏïÑÏò§ÏãúÎäî Í∏∏ Í¥ÄÎ¶¨"]}),e.jsx("div",{className:"flex space-x-2 mb-8 border-b pb-4 overflow-x-auto scrollbar-hide no-scrollbar",children:s.offices.map(t=>e.jsx("button",{onClick:()=>b(t.id),className:`px-6 py-2 rounded-full text-xs font-black transition-all whitespace-nowrap ${se===t.id?"bg-sky-primary text-white shadow-md":"bg-gray-100 text-gray-400"}`,children:t.name},t.id))}),s.offices.find(t=>t.id===se)&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black text-gray-400 mb-1 tracking-widest uppercase",children:"ÏÇ¨ÏóÖÏÜå Ïù¥Î¶Ñ"}),e.jsx("input",{type:"text",value:(je=s.offices.find(t=>t.id===se))==null?void 0:je.name,onChange:t=>{const m=s.offices.map(d=>d.id===se?{...d,name:t.target.value}:d);r({...s,offices:m})},className:"w-full border-2 border-gray-100 rounded-xl p-4 font-bold text-sm outline-none focus:border-sky-primary"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black text-gray-400 mb-1 tracking-widest uppercase",children:"Ï£ºÏÜå"}),e.jsx("input",{type:"text",value:(Ie=s.offices.find(t=>t.id===se))==null?void 0:Ie.address,onChange:t=>{const m=s.offices.map(d=>d.id===se?{...d,address:t.target.value}:d);r({...s,offices:m})},className:"w-full border-2 border-gray-100 rounded-xl p-4 font-bold text-sm outline-none focus:border-sky-primary"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black text-gray-400 mb-1 tracking-widest uppercase",children:"Ï†ÑÌôîÎ≤àÌò∏"}),e.jsx("input",{type:"text",value:(Ee=s.offices.find(t=>t.id===se))==null?void 0:Ee.phone,onChange:t=>{const m=s.offices.map(d=>d.id===se?{...d,phone:t.target.value}:d);r({...s,offices:m})},className:"w-full border-2 border-gray-100 rounded-xl p-4 font-bold text-sm outline-none focus:border-sky-primary"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("label",{className:"block text-[10px] font-black text-gray-400 mb-1 tracking-widest uppercase",children:"ÏßÄÎèÑ/Ï†ÑÍ≤Ω Ïù¥ÎØ∏ÏßÄ"}),e.jsxs("div",{className:"aspect-video bg-gray-100 rounded-2xl overflow-hidden border relative group shadow-inner",children:[e.jsx("img",{src:(Pe=s.offices.find(t=>t.id===se))==null?void 0:Pe.mapImageUrl,className:"w-full h-full object-cover"}),e.jsx("button",{onClick:()=>{var t;return(t=M.current)==null?void 0:t.click()},className:"absolute inset-0 bg-black/40 text-white opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center font-bold",children:"Ïù¥ÎØ∏ÏßÄ Î≥ÄÍ≤Ω"}),e.jsx("input",{type:"file",ref:M,className:"hidden",accept:"image/*",onChange:t=>L(t,se)})]})]})]})]}),A==="posts"&&e.jsxs("div",{className:"space-y-8 animate-fadeIn",children:[e.jsxs("div",{className:"bg-white rounded-[2.5rem] border shadow-sm overflow-hidden",children:[e.jsxs("div",{className:"p-8 border-b bg-gray-50/30 flex justify-between items-center",children:[e.jsx("h3",{className:"font-black text-gray-900",children:"Í≤åÏãúÍ∏Ä Í¥ÄÎ¶¨"}),e.jsxs("span",{className:"text-xs text-gray-400 font-bold",children:["Ï¥ù ",o.length,"Í∞ú"]})]}),e.jsx("div",{className:"sm:hidden p-6 space-y-3",children:o.length===0?e.jsx("div",{className:"py-16 text-center text-gray-400 font-bold italic",children:"Í≤åÏãúÍ∏ÄÏù¥ ÏóÜÏäµÎãàÎã§."}):o.map(t=>e.jsx("div",{className:"bg-white border border-gray-100 rounded-2xl p-4 shadow-sm",children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"text-[10px] bg-sky-50 text-sky-600 px-2 py-1 rounded font-black whitespace-nowrap",children:t.type}),e.jsx("div",{className:"font-black text-gray-900 truncate max-w-[220px]",children:t.title})]}),e.jsxs("div",{className:"mt-2 text-xs text-gray-600 flex gap-2",children:[e.jsx("span",{className:"text-gray-400 font-bold shrink-0",children:"ÏûëÏÑ±Ïûê"}),e.jsx("span",{className:"font-bold whitespace-nowrap break-keep",children:t.author})]})]}),e.jsxs("div",{className:"relative shrink-0",children:[e.jsx("button",{onClick:()=>ce(Ne===t.id?null:t.id),className:"w-9 h-9 rounded-xl border border-gray-100 bg-gray-50 text-gray-700 flex items-center justify-center font-black active:scale-95","aria-label":"Í≤åÏãúÍ∏Ä Í¥ÄÎ¶¨ Î©îÎâ¥",children:"‚ãØ"}),Ne===t.id&&e.jsx("div",{className:"absolute right-0 mt-2 w-40 bg-white border border-gray-100 rounded-2xl shadow-lg overflow-hidden z-20",children:e.jsxs("div",{className:"flex",children:[e.jsx("button",{onClick:()=>{ce(null),v(t.id,t.type)},className:"flex-1 px-4 py-3 text-xs font-black text-sky-600 hover:bg-sky-50 whitespace-nowrap text-center",children:"Î≥¥Í∏∞"}),e.jsx("div",{className:"w-px bg-gray-100"}),e.jsx("button",{onClick:()=>{ce(null),f(t)},className:"flex-1 px-4 py-3 text-xs font-black text-gray-700 hover:bg-gray-50 whitespace-nowrap text-center",children:"ÏàòÏ†ï"})]})})]})]})},t.id))}),e.jsx("div",{className:"max-h-96 overflow-y-auto custom-scrollbar hidden sm:block",children:e.jsxs("table",{className:"w-full text-sm text-left",children:[e.jsx("thead",{className:"bg-gray-50 text-[10px] font-black text-gray-400 uppercase",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-8 py-4",children:"Íµ¨Î∂Ñ"}),e.jsx("th",{className:"px-8 py-4",children:"Ï†úÎ™©"}),e.jsx("th",{className:"px-8 py-4",children:"ÏûëÏÑ±Ïûê"}),e.jsx("th",{className:"px-8 py-4",children:"Í¥ÄÎ¶¨"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-50",children:o.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-8 py-20 text-center text-gray-400 font-bold italic",children:"Í≤åÏãúÍ∏ÄÏù¥ ÏóÜÏäµÎãàÎã§."})}):o.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50/50",children:[e.jsx("td",{className:"px-8 py-4",children:e.jsx("span",{className:"text-[10px] bg-sky-50 text-sky-600 px-2 py-1 rounded font-black",children:t.type})}),e.jsx("td",{className:"px-8 py-4 font-bold text-gray-700 truncate max-w-xs",children:t.title}),e.jsx("td",{className:"px-8 py-4 text-gray-400 whitespace-nowrap break-keep",children:t.author}),e.jsx("td",{className:"px-8 py-4",children:e.jsxs("div",{className:"flex flex-col gap-1 sm:flex-row sm:gap-0 sm:space-x-4",children:[e.jsx("button",{onClick:()=>v(t.id,t.type),className:"text-sky-500 hover:underline font-bold text-xs whitespace-nowrap",children:"Î≥¥Í∏∞"}),e.jsx("button",{onClick:()=>f(t),className:"text-gray-500 hover:text-gray-900 font-bold text-xs whitespace-nowrap",children:"ÏàòÏ†ï"})]})})]},t.id))})]})})]}),e.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-red-100 shadow-sm overflow-hidden",children:[e.jsxs("div",{className:"p-8 border-b bg-red-50/30 flex justify-between items-center",children:[e.jsxs("h3",{className:"font-black text-red-900 flex items-center whitespace-nowrap",children:[e.jsx("i",{className:"fas fa-trash-alt mr-3"})," Ìú¥ÏßÄÌÜµ"]}),e.jsxs("span",{className:"text-xs text-red-400 font-bold",children:[x.length,"Í∞úÏùò ÏÇ≠Ï†úÎêú Í∏Ä"]})]}),e.jsx("div",{className:"max-h-64 overflow-y-auto custom-scrollbar",children:e.jsx("table",{className:"w-full text-sm text-left",children:e.jsx("tbody",{className:"divide-y divide-gray-50",children:x.length===0?e.jsx("tr",{children:e.jsx("td",{className:"px-8 py-10 text-center text-gray-300 font-bold italic",children:"Ìú¥ÏßÄÌÜµÏù¥ ÎπÑÏñ¥ ÏûàÏäµÎãàÎã§."})}):x.map(t=>e.jsxs("tr",{className:"hover:bg-red-50/20",children:[e.jsx("td",{className:"px-8 py-4 font-bold text-gray-500 truncate max-sm",children:t.title}),e.jsx("td",{className:"px-8 py-4 text-right space-x-4",children:e.jsxs("div",{className:"flex items-center gap-6 whitespace-nowrap",children:[e.jsx("button",{onClick:()=>u(t.id),className:"text-sky-500 font-black text-xs hover:underline whitespace-nowrap",children:"Î≥µÍµ¨"})," ",e.jsx("button",{onClick:()=>p(t.id),className:"text-red-400 font-black text-xs hover:underline whitespace-nowrap",children:"ÏòÅÍµ¨ÏÇ≠Ï†ú"})]})})]},t.id))})})})]})]}),A==="storage"&&e.jsxs("div",{className:"bg-white rounded-[2.5rem] border shadow-sm overflow-hidden animate-fadeIn",children:[e.jsxs("div",{className:"p-8 border-b bg-gray-50/30 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-black text-gray-900",children:"Ï≤®Î∂ÄÌååÏùº ÏÇ¨Ïö©Îüâ"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1 font-bold",children:"Í≤åÏãúÍ∏ÄÏóê Ï≤®Î∂ÄÎêú ÌååÏùº(dataURL/base64)Ïùò Ï¥ù Ïö©ÎüâÏùÑ Í≥ÑÏÇ∞Ìï©ÎãàÎã§. (Í¥ÄÎ¶¨ÏûêÏö©)"})]}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx("button",{onClick:ae,className:"px-5 py-2.5 bg-emerald-600 text-white rounded-2xl font-black shadow-lg shadow-emerald-50 hover:bg-emerald-700 transition-all text-xs whitespace-nowrap",children:"CSV ÎÇ¥Î†§Î∞õÍ∏∞"}),e.jsx("button",{onClick:re,className:"px-5 py-2.5 bg-slate-900 text-white rounded-2xl font-black shadow-lg shadow-slate-200 hover:bg-black transition-all text-xs whitespace-nowrap",children:"JSON ÎÇ¥Î†§Î∞õÍ∏∞"})]})]}),e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"rounded-3xl border bg-white p-5 shadow-sm",children:[e.jsx("div",{className:"text-xs text-gray-400 font-black",children:"Ï¥ù Ï≤®Î∂ÄÌååÏùº"}),e.jsxs("div",{className:"mt-2 text-2xl font-black text-gray-900",children:[K.totalFiles,"Í∞ú"]}),e.jsx("div",{className:"mt-1 text-xs text-gray-500 font-bold",children:"Ï†ÑÏ≤¥ Í≤åÏãúÍ∏Ä Í∏∞Ï§Ä"})]}),e.jsxs("div",{className:"rounded-3xl border bg-white p-5 shadow-sm",children:[e.jsx("div",{className:"text-xs text-gray-400 font-black",children:"Ï¥ù Ïö©Îüâ"}),e.jsx("div",{className:"mt-2 text-2xl font-black text-gray-900",children:he(K.totalBytes)}),e.jsxs("div",{className:"mt-1 text-xs text-gray-500 font-bold",children:[K.totalBytes.toLocaleString()," bytes"]})]}),e.jsxs("div",{className:"rounded-3xl border bg-white p-5 shadow-sm",children:[e.jsx("div",{className:"text-xs text-gray-400 font-black",children:"ÏÇ¨ÏßÑ"}),e.jsxs("div",{className:"mt-2 text-2xl font-black text-gray-900",children:[K.imageFiles,"Í∞ú"]}),e.jsx("div",{className:"mt-1 text-xs text-gray-500 font-bold",children:he(K.imageBytes)})]}),e.jsxs("div",{className:"rounded-3xl border bg-white p-5 shadow-sm",children:[e.jsx("div",{className:"text-xs text-gray-400 font-black",children:"Î¨∏ÏÑú/Í∏∞ÌÉÄ"}),e.jsxs("div",{className:"mt-2 text-2xl font-black text-gray-900",children:[K.docFiles,"Í∞ú"]}),e.jsx("div",{className:"mt-1 text-xs text-gray-500 font-bold",children:he(K.docBytes)})]})]}),e.jsxs("div",{className:"rounded-[2rem] border bg-gray-50/30 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-black text-gray-900",children:"Í≤åÏãúÌåêÎ≥Ñ ÏÇ¨Ïö©Îüâ"}),e.jsx("div",{className:"text-xs text-gray-400 font-bold mt-1",children:"Ïö©Îüâ Í∏∞Ï§Ä ÎÇ¥Î¶ºÏ∞®Ïàú"})]}),e.jsxs("div",{className:"text-xs text-gray-500 font-black",children:["Ï¥ù ",he(K.totalBytes)]})]}),K.boardRows.length===0?e.jsx("div",{className:"py-12 text-center text-gray-400 font-bold italic",children:"Ï≤®Î∂ÄÌååÏùºÏù¥ ÏóÜÏäµÎãàÎã§."}):e.jsx("div",{className:"space-y-3",children:K.boardRows.map(t=>{const m=K.totalBytes||1,d=Math.min(100,Math.round(t.bytes/m*100));return e.jsxs("div",{className:"bg-white rounded-2xl border p-4",children:[e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsx("div",{className:"font-black text-gray-900",children:ue(t.type)}),e.jsxs("div",{className:"text-xs text-gray-500 font-black whitespace-nowrap",children:[t.files,"Í∞ú ¬∑ ",he(t.bytes)," (",d,"%)"]})]}),e.jsx("div",{className:"mt-3 h-2.5 bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-sky-primary rounded-full",style:{width:`${d}%`}})})]},t.type)})})]}),e.jsxs("div",{className:"rounded-[2rem] border bg-white overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b bg-gray-50/30",children:[e.jsx("div",{className:"text-lg font-black text-gray-900",children:"Ïö©Îüâ ÏÉÅÏúÑ 10Í∞ú ÌååÏùº"}),e.jsx("div",{className:"text-xs text-gray-400 font-bold mt-1",children:"ÌÅ¥Î¶≠ÌïòÎ©¥ Ìï¥Îãπ ÌååÏùºÏùÑ Î∞îÎ°ú Îã§Ïö¥Î°úÎìúÌï† Ïàò ÏûàÏäµÎãàÎã§."})]}),e.jsx("div",{className:"p-6",children:K.topFiles.length===0?e.jsx("div",{className:"py-10 text-center text-gray-400 font-bold italic",children:"ÌëúÏãúÌï† ÌååÏùºÏù¥ ÏóÜÏäµÎãàÎã§."}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-[760px] w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-xs text-gray-400 font-black border-b",children:[e.jsx("th",{className:"text-left py-3 pr-3",children:"ÌååÏùº"}),e.jsx("th",{className:"text-left py-3 pr-3",children:"Í≤åÏãúÌåê"}),e.jsx("th",{className:"text-left py-3 pr-3",children:"Í≤åÏãúÍ∏Ä"}),e.jsx("th",{className:"text-right py-3 pr-3",children:"Ïö©Îüâ"}),e.jsx("th",{className:"text-right py-3",children:"Îã§Ïö¥Î°úÎìú"})]})}),e.jsx("tbody",{children:K.topFiles.map((t,m)=>e.jsxs("tr",{className:"border-b last:border-b-0",children:[e.jsxs("td",{className:"py-3 pr-3",children:[e.jsx("div",{className:"font-black text-gray-900",children:t.fileName}),e.jsx("div",{className:"text-[11px] text-gray-400 font-bold",children:t.mime||"unknown"})]}),e.jsx("td",{className:"py-3 pr-3 font-black text-gray-700 whitespace-nowrap",children:ue(t.postType)}),e.jsxs("td",{className:"py-3 pr-3",children:[e.jsx("div",{className:"font-bold text-gray-700 line-clamp-1",children:t.postTitle}),e.jsx("div",{className:"text-[11px] text-gray-400 font-bold mt-0.5",children:ee(t.postCreatedAt)})]}),e.jsx("td",{className:"py-3 pr-3 text-right font-black text-gray-900 whitespace-nowrap",children:he(t.bytes)}),e.jsx("td",{className:"py-3 text-right",children:e.jsx("button",{onClick:()=>ge(t.dataUrl,t.fileName),className:"px-3 py-2 bg-sky-primary text-white rounded-xl font-black text-xs hover:opacity-90 transition-all whitespace-nowrap",children:"Îã§Ïö¥Î°úÎìú"})})]},`${t.postId}-${m}`))})]})})})]}),e.jsxs("div",{className:"text-xs text-gray-500 font-bold leading-relaxed",children:[e.jsx("div",{className:"font-black text-gray-700 mb-1",children:"Ï∞∏Í≥†"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[e.jsxs("li",{children:["Ï≤®Î∂ÄÌååÏùºÏùÄ ÌòÑÏû¨ Í≤åÏãúÍ∏Ä Îç∞Ïù¥ÌÑ∞Ïóê ",e.jsx("span",{className:"font-black",children:"base64(dataURL)"}),"Î°ú Ìè¨Ìï®ÎêòÏñ¥ Ï†ÄÏû•Îê©ÎãàÎã§. ÌååÏùºÏù¥ ÎßéÏïÑÏßÄÎ©¥ Îç∞Ïù¥ÌÑ∞ Ïö©ÎüâÏù¥ Îπ†Î•¥Í≤å Ï¶ùÍ∞ÄÌï©ÎãàÎã§."]}),e.jsx("li",{children:"Ïû•Í∏∞ Ïö¥ÏòÅ ÏãúÏóêÎäî Supabase Storage Í∞ôÏùÄ ÌååÏùº Ïä§ÌÜ†Î¶¨ÏßÄÎ°ú ÏòÆÍ∏∞Í≥†, Í≤åÏãúÍ∏ÄÏóêÎäî ÌååÏùº URLÎßå Ï†ÄÏû•ÌïòÎäî Î∞©ÏãùÏù¥ Í∂åÏû•Îê©ÎãàÎã§."})]})]})]})]}),A==="push"&&e.jsxs("div",{className:"bg-white rounded-[2.5rem] border shadow p-8",children:[e.jsx("h3",{className:"text-2xl font-extrabold mb-3",children:"Ìë∏Ïãú ÏïåÎ¶º (PWA)"}),e.jsxs("p",{className:"text-gray-600 mb-6 leading-relaxed",children:["ÌÖåÏä§Ìä∏ Îã®Í≥ÑÏóêÏÑúÎäî Ï°∞Ìï©ÏõêÏù¥ ",e.jsx("b",{children:"ÌôàÌôîÎ©¥Ïóê Ï∂îÍ∞Ä(PWA)"})," ÌõÑ ",e.jsx("b",{children:"ÏïåÎ¶º ÌóàÏö©"}),"ÏùÑ ÌïòÎ©¥, Ïï±Ïù¥ Ïó¥Î†§ÏûàÎäî ÎèôÏïà ÏÉà Í≤åÏãúÍ∏Ä Îì±Î°ù Ïãú ÏïåÎ¶ºÏù¥ ÌëúÏãúÎê©ÎãàÎã§.",e.jsx("br",{}),e.jsx("span",{className:"text-sm text-gray-500",children:"‚Äª Ïï±Ïù¥ Í∫ºÏ†∏ÏûàÏùÑ ÎïåÎèÑ ÏïåÎ¶º(ÏßÑÏßú Ïõπ Ìë∏Ïãú)ÏùÑ Î≥¥ÎÇ¥Î†§Î©¥ VAPID ÌÇ§ + Î∞úÏÜ° Ìï®Ïàò(ÏÑúÎ≤Ñ/Edge Function)Í∞Ä ÌïÑÏöîÌï©ÎãàÎã§."})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("button",{className:"px-5 py-3 rounded-full bg-slate-900 text-white font-bold hover:bg-slate-800 transition",onClick:async()=>{try{if(!("Notification"in window)){alert("Ïù¥ Î∏åÎùºÏö∞Ï†ÄÎäî ÏïåÎ¶ºÏùÑ ÏßÄÏõêÌïòÏßÄ ÏïäÏäµÎãàÎã§.");return}const{enableNotifications:t}=await Qe(async()=>{const{enableNotifications:d}=await Promise.resolve().then(()=>as);return{enableNotifications:d}},void 0);if(!await t()){alert("ÏïåÎ¶ºÏùÑ ÏºúÏßÄ Î™ªÌñàÏäµÎãàÎã§. Î∏åÎùºÏö∞Ï†Ä/OS ÏÑ§Ï†ïÏóêÏÑú ÏïåÎ¶ºÏùÑ ÌóàÏö©ÌñàÎäîÏßÄ ÌôïÏù∏Ìï¥ Ï£ºÏÑ∏Ïöî.");return}alert("ÏïåÎ¶ºÏù¥ ÏºúÏ°åÏäµÎãàÎã§! (Í∂åÌïú + Íµ¨ÎèÖ Ï†ÄÏû• ÏôÑÎ£å)")}catch(t){console.error(t),alert(`ÏïåÎ¶º ÏºúÍ∏∞ Ïã§Ìå®: ${(t==null?void 0:t.message)||String(t)}`)}},children:"ÏïåÎ¶º ÏºúÍ∏∞ (Í∂åÌïú + Íµ¨ÎèÖ Ï†ÄÏû•)"}),e.jsx("button",{className:"px-5 py-3 rounded-full bg-white border font-bold hover:bg-gray-50 transition",onClick:async()=>{try{const{unsubscribePush:t}=await Qe(async()=>{const{unsubscribePush:m}=await Promise.resolve().then(()=>ft);return{unsubscribePush:m}},void 0);await t(),alert("ÏïåÎ¶ºÏùÑ ÍªêÏäµÎãàÎã§.")}catch{alert("ÏïåÎ¶ºÏùÑ ÎÅÑÏßÄ Î™ªÌñàÏäµÎãàÎã§.")}},children:"ÏïåÎ¶º ÎÅÑÍ∏∞"}),e.jsx("button",{className:"px-5 py-3 rounded-full bg-indigo-600 text-white font-bold hover:bg-indigo-500 transition",onClick:async()=>{var t;U(!0);try{const{getClientPushStatus:m}=await Qe(async()=>{const{getClientPushStatus:I}=await Promise.resolve().then(()=>ft);return{getClientPushStatus:I}},void 0),d=await m();X(d);const _=(t=d==null?void 0:d.subscription)==null?void 0:t.endpoint;if(_){const le=await(await fetch("/api/push-status",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({endpoint:_})})).json().catch(()=>({}));k(le)}else k({ok:!1,error:"Ïù¥ Î∏åÎùºÏö∞Ï†ÄÏóê Íµ¨ÎèÖ(subscription)Ïù¥ ÏóÜÏäµÎãàÎã§."})}catch(m){k({ok:!1,error:(m==null?void 0:m.message)||String(m)})}finally{U(!1)}},children:D?"ÌôïÏù∏ Ï§ë...":"Íµ¨ÎèÖ ÏÉÅÌÉú Î≥¥Í∏∞ (ÎîîÎ≤ÑÍ∑∏)"}),e.jsx("button",{className:"px-5 py-3 rounded-full bg-emerald-600 text-white font-bold hover:bg-emerald-500 transition",onClick:async()=>{try{await(await navigator.serviceWorker.ready).showNotification("Ïö∞Î¶¨ÎÖ∏ÎèôÏ°∞Ìï©",{body:"Ìë∏Ïãú ÏïåÎ¶º ÌÖåÏä§Ìä∏ÏûÖÎãàÎã§.",icon:"/pwa/icon-192.png",badge:"/pwa/icon-192.png",data:{url:"/"}})}catch{alert("ÌÖåÏä§Ìä∏ ÏïåÎ¶ºÏùÑ ÌëúÏãúÌï† Ïàò ÏóÜÏäµÎãàÎã§. (ÏÑúÎπÑÏä§ÏõåÏª§/Í∂åÌïú ÌôïÏù∏)")}},children:"ÌÖåÏä§Ìä∏ ÏïåÎ¶º Î≥¥ÎÇ¥Í∏∞ (ÎÇ¥ Ìè∞ÏóêÏÑú)"})]}),(O||y)&&e.jsxs("div",{className:"mt-6 rounded-2xl border bg-gray-50 p-5 text-sm",children:[e.jsx("div",{className:"font-black text-gray-800 mb-2",children:"ÎîîÎ≤ÑÍ∑∏ Í≤∞Í≥º"}),e.jsx("pre",{className:"whitespace-pre-wrap break-all text-xs text-gray-700 leading-relaxed",children:JSON.stringify({client:O,db:y},null,2)})]})]}),A==="settings"&&e.jsxs("div",{className:"space-y-8 animate-fadeIn",children:[e.jsx("div",{className:"bg-white p-10 rounded-[2.5rem] border shadow-sm space-y-12",children:e.jsxs("div",{children:[e.jsxs("h3",{className:"font-black text-gray-900 text-lg mb-8 flex items-center whitespace-nowrap",children:[e.jsx("i",{className:"fas fa-palette mr-3 text-sky-primary"})," Î©îÏù∏ Ïä¨ÎùºÏù¥Îìú Í¥ÄÎ¶¨ (ÏµúÎåÄ 5Ïû•)"]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6 mb-12",children:[0,1,2,3,4].map(t=>e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("label",{className:"block text-[10px] font-black text-gray-400 tracking-widest uppercase",children:["Ïä¨ÎùºÏù¥Îìú ",t+1]}),t>0&&(s.heroImageUrls||[])[t]&&e.jsx("button",{onClick:()=>Y(t),className:"text-red-400 hover:text-red-600 transition-colors",children:e.jsx("i",{className:"fas fa-times-circle text-xs"})})]}),e.jsxs("div",{className:"aspect-[4/3] bg-gray-50 rounded-[1.5rem] overflow-hidden border-2 border-white shadow-md relative group",children:[e.jsx("img",{src:(s.heroImageUrls||[])[t]||(t===0?s.heroImageUrl:"")||"https://via.placeholder.com/400x300?text=Empty",className:"w-full h-full object-cover"}),e.jsxs("button",{onClick:()=>{var m;return(m=R[t].current)==null?void 0:m.click()},className:"absolute inset-0 bg-black/60 text-white opacity-0 group-hover:opacity-100 transition-opacity flex flex-col items-center justify-center font-black",children:[e.jsx("i",{className:"fas fa-camera text-xl mb-1"}),(s.heroImageUrls||[])[t]?"Î≥ÄÍ≤Ω":"Ï∂îÍ∞Ä"]}),e.jsx("input",{type:"file",ref:R[t],className:"hidden",accept:"image/*",onChange:m=>S(m,t)})]})]},t))}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 pt-8 border-t border-gray-50",children:e.jsxs("div",{className:"space-y-6 flex flex-col justify-center",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black text-gray-400 mb-2 tracking-widest uppercase",children:"ÏÇ¨Ïù¥Ìä∏ Ïù¥Î¶Ñ"}),e.jsx("input",{type:"text",name:"siteName",value:s.siteName,onChange:ye,className:"w-full border-2 border-gray-100 rounded-2xl p-4 font-black text-xl text-sky-primary outline-none focus:border-sky-primary shadow-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black text-gray-400 mb-2 tracking-widest uppercase",children:"Î©îÏù∏ Ïä¨Î°úÍ±¥"}),e.jsx("input",{type:"text",name:"heroTitle",value:s.heroTitle,onChange:ye,className:"w-full border-2 border-gray-100 rounded-2xl p-4 font-bold text-gray-700 outline-none focus:border-sky-primary"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] font-black text-gray-400 mb-2 tracking-widest uppercase",children:"Î≥¥Ï°∞ Ïä¨Î°úÍ±¥"}),e.jsx("input",{type:"text",name:"heroSubtitle",value:s.heroSubtitle,onChange:ye,className:"w-full border-2 border-gray-100 rounded-2xl p-4 text-sm text-gray-500 outline-none focus:border-sky-primary"})]})]})})]})}),e.jsxs("div",{className:"bg-gray-900 rounded-[2.5rem] p-10 text-white shadow-2xl space-y-8",children:[e.jsx("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-black mb-2 flex items-center whitespace-nowrap",children:[e.jsx("i",{className:"fas fa-sync-alt mr-3 text-sky-400"})," Îç∞Ïù¥ÌÑ∞ Î∞±ÏóÖ Î∞è Í¥ÄÎ¶¨"]}),e.jsx("p",{className:"text-sm text-gray-400 font-bold leading-relaxed",children:"Îã§Î•∏ Í∏∞Í∏∞Î°ú Îç∞Ïù¥ÌÑ∞Î•º ÏòÆÍ∏∞Í∏∞ ÏúÑÌï¥ Î∞±ÏóÖ ÌååÏùºÏùÑ ÌôúÏö©ÌïòÏÑ∏Ïöî."})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("button",{onClick:g,className:"group flex flex-col items-center justify-center p-8 bg-white/5 border border-white/10 rounded-[2rem] hover:bg-white/10 transition-all active:scale-95",children:[e.jsx("div",{className:"w-12 h-12 bg-sky-500 text-white rounded-2xl flex items-center justify-center mb-4 shadow-lg group-hover:scale-110 transition-transform",children:e.jsx("i",{className:"fas fa-file-export text-xl"})}),e.jsx("span",{className:"font-black text-sm mb-1",children:"Îç∞Ïù¥ÌÑ∞ ÎÇ¥Î≥¥ÎÇ¥Í∏∞"})]}),e.jsxs("button",{onClick:()=>{var t;return(t=P.current)==null?void 0:t.click()},className:"group flex flex-col items-center justify-center p-8 bg-white/5 border border-white/10 rounded-[2rem] hover:bg-white/10 transition-all active:scale-95",children:[e.jsx("div",{className:"w-12 h-12 bg-emerald-500 text-white rounded-2xl flex items-center justify-center mb-4 shadow-lg group-hover:scale-110 transition-transform",children:e.jsx("i",{className:"fas fa-file-import text-xl"})}),e.jsx("span",{className:"font-black text-sm mb-1",children:"Îç∞Ïù¥ÌÑ∞ Í∞ÄÏ†∏Ïò§Í∏∞"}),e.jsx("input",{type:"file",ref:P,className:"hidden",accept:"application/json",onChange:ve})]})]})]})]})]}),e.jsx("style",{children:" .custom-scrollbar::-webkit-scrollbar { width: 6px; } .custom-scrollbar::-webkit-scrollbar-thumb { background: #e2e8f0; border-radius: 10px; } "})]})},ms=({type:s,initialPost:r,onSave:l,onCancel:o})=>{const[x,u]=i.useState(""),[p,f]=i.useState(""),v=i.useRef(null),[c,E]=i.useState(""),[C,R]=i.useState([]),W=i.useRef(null);i.useEffect(()=>{r&&(u(r.title),f(r.content),E(r.password||""),R(r.attachments||[]))},[r]);const M=8,P=5,A=3,q=5*1024*1024,ie=15*1024*1024,oe=y=>{if(!Number.isFinite(y)||y<=0)return"0B";const k=["B","KB","MB","GB"];let D=y,U=0;for(;D>=1024&&U<k.length-1;)D/=1024,U+=1;const Z=U===0?0:1;return`${D.toFixed(Z)}${k[U]}`},Ne=(y,k=1200)=>new Promise(D=>{const U=new Image;U.src=y,U.onload=()=>{const Z=document.createElement("canvas");let j=U.width,G=U.height;j>k&&(G=k/j*G,j=k),Z.width=j,Z.height=G;const Q=Z.getContext("2d");Q==null||Q.drawImage(U,0,0,j,G),D(Z.toDataURL("image/jpeg",.7))}}),ce=y=>{const k=y.indexOf(",");if(k===-1)return 0;const D=y.slice(k+1);let U=0;return D.endsWith("==")?U=2:D.endsWith("=")&&(U=1),Math.max(0,Math.floor(D.length*3/4)-U)},se=()=>C.reduce((y,k)=>y+ce(k.data),0),b=async y=>{const k=y.target.files;if(!k)return;const D=Array.from(k),U=C.filter(H=>{var ee;return(ee=H.type)==null?void 0:ee.startsWith("image/")}).length,Z=C.length-U,j=D.filter(H=>{var ee;return(ee=H.type)==null?void 0:ee.startsWith("image/")}).length,G=D.length-j;if(C.length+D.length>M){alert(`ÌååÏùºÏùÄ ÏµúÎåÄ ${M}Í∞ú(ÏÇ¨ÏßÑ ${P} + Î¨∏ÏÑú ${A})ÍπåÏßÄÎßå ÏóÖÎ°úÎìú Í∞ÄÎä•Ìï©ÎãàÎã§.`);return}if(U+j>P){alert(`ÏÇ¨ÏßÑÏùÄ ÏµúÎåÄ ${P}Í∞úÍπåÏßÄÎßå ÏóÖÎ°úÎìú Í∞ÄÎä•Ìï©ÎãàÎã§.`);return}if(Z+G>A){alert(`Î¨∏ÏÑúÎäî ÏµúÎåÄ ${A}Í∞úÍπåÏßÄÎßå ÏóÖÎ°úÎìú Í∞ÄÎä•Ìï©ÎãàÎã§.`);return}const Q=D.find(H=>H.size>q);if(Q){alert(`${Q.name}: ÌååÏùº Ïö©ÎüâÏùÄ 5MB Ïù¥ÌïòÎßå Í∞ÄÎä•Ìï©ÎãàÎã§.`);return}const xe=D.reduce((H,ee)=>H+ee.size,0),we=se();if(we+xe>ie){alert(`Ï≤®Î∂ÄÌååÏùº Ï¥ùÌï©ÏùÄ ÏµúÎåÄ 15MBÍπåÏßÄÎßå Í∞ÄÎä•Ìï©ÎãàÎã§. (ÌòÑÏû¨ ÏïΩ ${oe(we)} + ÏÑ†ÌÉù ${oe(xe)})`);return}const fe=async H=>{if(H.size>q){alert(`${H.name}: ÌååÏùº Ïö©ÎüâÏùÄ 5MB Ïù¥ÌïòÎßå Í∞ÄÎä•Ìï©ÎãàÎã§.`);return}const ee=new FileReader;ee.onloadend=async()=>{var he;let Ce=ee.result;(he=H.type)!=null&&he.startsWith("image/")&&(Ce=await Ne(Ce)),R(ge=>{var ye;const ue=(ye=H.type)!=null&&ye.startsWith("image/")?ge.filter(_e=>{var S;return(S=_e.type)==null?void 0:S.startsWith("image/")}).length:-1,K=[...ge,{name:H.name,data:Ce,type:H.type}];return ue>=0&&v.current&&X(`[[img:${ue}]]`),K})},ee.readAsDataURL(H)};for(const H of Array.from(k))await fe(H);W.current&&(W.current.value="")},O=y=>{R(k=>k.filter((D,U)=>U!==y))},X=y=>{const k=v.current;f(D=>{if(!k)return D?`${D}
${y}
`:`${y}
`;const U=k.selectionStart??D.length,Z=k.selectionEnd??D.length,j=D.slice(0,U),G=D.slice(Z),Q=j&&!j.endsWith(`
`)?j+`
`:j,xe=G&&!G.startsWith(`
`)?`
`+G:G,we=`${Q}${y}${xe}`;return requestAnimationFrame(()=>{try{const fe=Q.length+y.length+(xe.startsWith(`
`)?1:0);k.focus(),k.setSelectionRange(fe,fe)}catch{}}),we})};return e.jsx("div",{className:"max-w-4xl mx-auto py-8 px-4",children:e.jsxs("div",{className:"space-y-6 bg-white p-8 rounded-lg border",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ï†úÎ™©"}),e.jsx("input",{type:"text",className:"w-full border-gray-300 rounded-lg p-3 text-lg font-bold border focus:ring-sky-500 outline-none",value:x,onChange:y=>u(y.target.value)})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:["ÏàòÏ†ï/ÏÇ≠Ï†úÏö© ÎπÑÎ∞ÄÎ≤àÌò∏ ",e.jsx("span",{className:"text-[10px] text-sky-primary ml-2",children:"* Î™®Îì† Í≤åÏãúÎ¨ºÏóê ÌïÑÏàòÎ°ú ÏûÖÎ†•Ìï¥Ïïº Ìï©ÎãàÎã§."})]}),e.jsx("input",{type:"password",className:"w-full sm:w-64 border-gray-300 rounded-lg p-3 border focus:ring-sky-500 outline-none",placeholder:"4ÏûêÎ¶¨ Ïù¥ÏÉÅ ÏûÖÎ†•",value:c,onChange:y=>E(y.target.value)})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border-2 border-dashed border-gray-200",children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:[e.jsx("i",{className:"fas fa-paperclip mr-2"})," Ï≤®Î∂ÄÌååÏùº (ÏÇ¨ÏßÑ ÏµúÎåÄ 5Í∞ú / Î¨∏ÏÑú ÏµúÎåÄ 3Í∞ú / Ï¥ù 8Í∞ú)"]}),e.jsx("input",{type:"file",ref:W,onChange:b,className:"hidden",multiple:!0,accept:"image/*,video/*,.pdf,.doc,.docx,.xls,.xlsx,.hwp"}),e.jsx("div",{className:"space-y-2 mb-3",children:C.map((y,k)=>{var D,U,Z;return e.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded-lg border shadow-sm",children:[e.jsxs("div",{className:"flex items-center",children:[(D=y.type)!=null&&D.startsWith("image/")?e.jsx("img",{src:y.data,alt:"preview",className:"w-10 h-10 object-cover rounded mr-3"}):e.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded flex items-center justify-center mr-3",children:e.jsx("i",{className:`fas ${(U=y.type)!=null&&U.startsWith("video/")?"fa-video":"fa-file"} text-gray-400`})}),e.jsxs("div",{className:"text-xs",children:[e.jsx("p",{className:"font-medium text-gray-800 truncate max-w-[200px]",children:y.name}),e.jsxs("p",{className:"text-gray-400",children:[(y.data.length*.75/1024).toFixed(1)," KB ",((Z=y.type)==null?void 0:Z.startsWith("image/"))&&e.jsx("span",{className:"text-emerald-500 font-bold ml-1",children:"(ÏµúÏ†ÅÌôîÎê®)"})]})]})]}),e.jsx("button",{onClick:()=>O(k),className:"text-red-400 hover:text-red-600 p-2 transition-colors",children:e.jsx("i",{className:"fas fa-times"})})]},k)})}),C.length<M?e.jsxs("button",{onClick:()=>{var y;return(y=W.current)==null?void 0:y.click()},className:"w-full py-6 text-gray-400 text-sm hover:text-sky-primary hover:bg-white transition-all rounded-lg border border-dashed border-gray-300 flex flex-col items-center justify-center",children:[e.jsx("i",{className:"fas fa-plus-circle text-2xl mb-2"}),e.jsxs("span",{children:["ÌÅ¥Î¶≠ÌïòÏó¨ ÌååÏùºÏùÑ Ï∂îÍ∞ÄÌïòÏÑ∏Ïöî (ÌòÑÏû¨ ",C.length,"/",M," ¬∑ ÏÇ¨ÏßÑ ",C.filter(y=>{var k;return(k=y.type)==null?void 0:k.startsWith("image/")}).length,"/",P," ¬∑ Î¨∏ÏÑú ",C.filter(y=>{var k;return!((k=y.type)!=null&&k.startsWith("image/"))}).length,"/",A,")"]}),e.jsxs("span",{className:"text-[10px] mt-1 text-sky-600 font-bold",children:["ÌååÏùºÎãπ ÏµúÎåÄ ",oe(q)," ¬∑ Ï¥ùÌï© ÏµúÎåÄ ",oe(ie)]})]}):e.jsx("p",{className:"text-center text-xs text-orange-500 font-medium py-2",children:"ÏµúÎåÄ ÌååÏùº Í∞úÏàòÏóê ÎèÑÎã¨ÌñàÏäµÎãàÎã§."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ÎÇ¥Ïö©"}),e.jsx("textarea",{ref:v,className:"w-full border-gray-300 rounded-lg p-3 h-64 border focus:ring-sky-500 outline-none resize-none leading-relaxed",value:p,onChange:y=>f(y.target.value)})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{onClick:o,className:"px-6 py-2 border rounded-lg text-gray-600 hover:bg-gray-50 transition-colors",children:"Ï∑®ÏÜå"}),e.jsx("button",{onClick:()=>l(x,p,C,c,r==null?void 0:r.id),disabled:!x||!p||!c,className:"px-6 py-2 bg-sky-primary text-white rounded-lg font-bold hover:opacity-90 disabled:opacity-50 transition-all",children:r?"ÏàòÏ†ï ÏôÑÎ£å":"Í≤åÏãúÌïòÍ∏∞"})]})]})})},xs=({settings:s,activeTab:r})=>r==="map"?e.jsxs("div",{className:"max-w-5xl mx-auto py-12 px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Ï∞æÏïÑÏò§ÏãúÎäî Í∏∏"}),e.jsx("div",{className:"h-1 w-20 bg-sky-primary mx-auto"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:s.offices.map(l=>e.jsxs("div",{className:"bg-white rounded-2xl border shadow-sm overflow-hidden flex flex-col",children:[e.jsx("div",{className:"h-48 bg-gray-200 overflow-hidden relative group",children:e.jsx("img",{src:l.mapImageUrl,alt:`${l.name} Ï†ÑÍ≤Ω`,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"})}),e.jsxs("div",{className:"p-6 flex-grow",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:l.name}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start text-sm",children:[e.jsx("i",{className:"fas fa-map-marker-alt text-sky-primary mt-1 mr-3 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600 leading-snug",children:l.address})]}),e.jsxs("div",{className:"flex items-center text-sm",children:[e.jsx("i",{className:"fas fa-phone-alt text-sky-primary mr-3 flex-shrink-0"}),e.jsx("a",{href:`tel:${l.phone}`,className:"text-gray-900 font-medium hover:text-sky-primary transition-colors",children:l.phone})]})]})]}),e.jsx("div",{className:"px-6 pb-6 mt-auto",children:e.jsx("a",{href:`https://map.naver.com/v5/search/${encodeURIComponent(l.address)}`,target:"_blank",rel:"noopener noreferrer",className:"block w-full text-center py-2.5 bg-gray-50 border rounded-lg text-xs font-bold text-gray-600 hover:bg-sky-primary hover:text-white hover:border-sky-primary transition-all",children:"ÎÑ§Ïù¥Î≤ÑÎßµÏúºÎ°ú Î≥¥Í∏∞"})})]},l.id))})]}):e.jsxs("div",{className:"max-w-4xl mx-auto py-12 px-4",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:r==="history"?"Ïó∞ÌòÅ":"Ïù∏ÏÇ¨Îßê"}),e.jsx("div",{className:"h-1 w-20 bg-sky-primary mx-auto"}),e.jsxs("p",{className:"mt-6 text-lg text-gray-600",children:[s.siteName,"ÏùÄ ÎÖ∏ÎèôÏûêÏùò ÏÇ∂Ïùò Ïßà Ìñ•ÏÉÅÍ≥º Í∂åÏùµ Î≥¥Ìò∏Î•º ÏúÑÌï¥ ÌóåÏã†Ìï¥ ÏôîÏäµÎãàÎã§."]})]}),(r==="intro"||r==="greeting")&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-center mb-16",children:[e.jsx("div",{children:e.jsx("img",{src:s.greetingImageUrl||"https://picsum.photos/600/400?random=2",alt:"Greeting",className:"rounded-2xl shadow-xl border w-full object-cover aspect-[3/2]"})}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:s.greetingTitle}),e.jsx("p",{className:"text-gray-600 leading-relaxed whitespace-pre-wrap",children:s.greetingMessage}),e.jsx("ul",{className:"space-y-3",children:(s.missionItems||[]).map((l,o)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("i",{className:"fas fa-check-circle text-sky-primary mt-1 mr-3"}),e.jsx("span",{className:"text-gray-700",children:l})]},o))})]})]}),(r==="intro"||r==="history")&&e.jsxs("div",{className:"bg-sky-50 rounded-[3rem] p-8 sm:p-12",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-8 text-center",children:"Ï£ºÏöî Ïó∞ÌòÅ"}),e.jsx("div",{className:"space-y-8",children:s.history&&s.history.length>0?s.history.map((l,o)=>e.jsxs("div",{className:"flex border-l-2 border-sky-primary pl-6 relative",children:[e.jsx("div",{className:"absolute -left-2 top-0 w-4 h-4 rounded-full bg-sky-primary border-4 border-white shadow-sm"}),e.jsxs("div",{className:"pb-2",children:[e.jsx("span",{className:"font-black text-sky-800 text-sm",children:l.year}),e.jsx("p",{className:"text-gray-700 mt-1 font-medium",children:l.text})]})]},o)):e.jsx("p",{className:"text-center text-gray-400 py-10",children:"Îì±Î°ùÎêú Ïó∞ÌòÅ Ï†ïÎ≥¥Í∞Ä ÏóÜÏäµÎãàÎã§."})})]})]});function yt({isOpen:s,title:r,children:l,onClose:o}){return s?e.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center",children:[e.jsx("button",{"aria-label":"Îã´Í∏∞",onClick:o,className:"absolute inset-0 bg-black/50"}),e.jsxs("div",{className:"relative w-[92vw] max-w-2xl max-h-[85vh] overflow-hidden rounded-2xl bg-white shadow-xl flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b",children:[e.jsx("h2",{className:"text-base font-semibold text-gray-900",children:r}),e.jsx("button",{onClick:o,className:"rounded-md px-2 py-1 text-gray-600 hover:bg-gray-100","aria-label":"Îã´Í∏∞",children:"‚úï"})]}),e.jsx("div",{className:"px-5 py-4 overflow-auto text-sm text-gray-700 leading-6 whitespace-pre-line flex-1",children:l}),e.jsx("div",{className:"border-t px-5 py-3 flex justify-end",children:e.jsx("button",{onClick:o,className:"rounded-md bg-gray-800 text-white px-4 py-2 text-sm hover:bg-gray-700",children:"Îã´Í∏∞"})})]})]}):null}function hs({siteName:s="Ïö∞Î¶¨ÎÖ∏ÎèôÏ°∞Ìï©",youtubeLinks:r=[],showWithdrawButton:l=!1,onRequestWithdraw:o}){const[x,u]=i.useState(null),p=c=>{switch(c.replace(/\s+/g,"")){case"Í≤∏ÏÜêÏùÄÌûòÎì§Îã§":return"/images/youtube-gyeomson.png";case"ÍπÄÎèôÍ±∏TV":return"/images/youtube-kimdonggeoltv.png";case"ÌïúÍµ≠brtÏ∂ïÍµ¨Îã®":return"/images/youtube-koreabrt.png";default:return null}},f=i.useMemo(()=>`Ïö∞Î¶¨ÎÖ∏ÎèôÏ°∞Ìï©(Ïù¥Ìïò ‚ÄúÏ°∞Ìï©‚Äù)ÏùÄ Í∞úÏù∏Ï†ïÎ≥¥ Î≥¥Ìò∏Î≤ï Îì± Í¥ÄÎ†® Î≤ïÎ†πÏùÑ Ï§ÄÏàòÌïòÎ©∞,
Ï°∞Ìï©ÏõêÏùò Í∞úÏù∏Ï†ïÎ≥¥Î•º ÏÜåÏ§ëÌïòÍ≤å Î≥¥Ìò∏ÌïòÍ≥† ÏûàÏäµÎãàÎã§.

1. ÏàòÏßëÌïòÎäî Í∞úÏù∏Ï†ïÎ≥¥ Ìï≠Î™©
Ï°∞Ìï©ÏùÄ Îã§ÏùåÍ≥º Í∞ôÏùÄ Í∞úÏù∏Ï†ïÎ≥¥Î•º ÏàòÏßëÌï† Ïàò ÏûàÏäµÎãàÎã§.
- Ïù¥Î¶Ñ
- Ïù¥Î©îÏùº Ï£ºÏÜå
- Ïó∞ÎùΩÏ≤ò
- ÏïÑÏù¥Îîî(ÌöåÏõê Í∞ÄÏûÖ Ïãú)
- ÏÑúÎπÑÏä§ Ïù¥Ïö© Í∏∞Î°ù, Ï†ëÏÜç Î°úÍ∑∏

2. Í∞úÏù∏Ï†ïÎ≥¥Ïùò ÏàòÏßë Î∞è Ïù¥Ïö© Î™©Ï†Å
ÏàòÏßëÌïú Í∞úÏù∏Ï†ïÎ≥¥Îäî Îã§Ïùå Î™©Ï†ÅÏùÑ ÏúÑÌï¥ ÏÇ¨Ïö©Îê©ÎãàÎã§.
- Ï°∞Ìï© Í∞ÄÏûÖ Î∞è ÌöåÏõê Í¥ÄÎ¶¨
- Í≥µÏßÄÏÇ¨Ìï≠ Ï†ÑÎã¨ Î∞è Ï°∞Ìï© ÌôúÎèô ÏïàÎÇ¥
- Î¨∏ÏùòÏÇ¨Ìï≠ ÏùëÎåÄ Î∞è ÎØºÏõê Ï≤òÎ¶¨
- ÏÑúÎπÑÏä§ Í∞úÏÑ† Î∞è Ïö¥ÏòÅ Í¥ÄÎ¶¨

3. Í∞úÏù∏Ï†ïÎ≥¥Ïùò Î≥¥Ïú† Î∞è Ïù¥Ïö© Í∏∞Í∞Ñ
- Í∞úÏù∏Ï†ïÎ≥¥Îäî ÏàòÏßë¬∑Ïù¥Ïö© Î™©Ï†ÅÏù¥ Îã¨ÏÑ±ÎêòÎ©¥ ÏßÄÏ≤¥ ÏóÜÏù¥ ÌååÍ∏∞Ìï©ÎãàÎã§.
- Îã®, Í¥ÄÍ≥Ñ Î≤ïÎ†πÏóê Îî∞Îùº Î≥¥Í¥ÄÏù¥ ÌïÑÏöîÌïú Í≤ΩÏö∞ Ìï¥Îãπ Í∏∞Í∞Ñ ÎèôÏïà Î≥¥Í¥ÄÌï©ÎãàÎã§.

4. Í∞úÏù∏Ï†ïÎ≥¥Ïùò Ï†ú3Ïûê Ï†úÍ≥µ
Ï°∞Ìï©ÏùÄ ÏõêÏπôÏ†ÅÏúºÎ°ú Í∞úÏù∏Ï†ïÎ≥¥Î•º Ïô∏Î∂ÄÏóê Ï†úÍ≥µÌïòÏßÄ ÏïäÏäµÎãàÎã§.
Îã§Îßå, Î≤ïÎ†πÏóê Îî∞Îùº ÏöîÍµ¨ÎêòÎäî Í≤ΩÏö∞Ïóê ÌïúÌï¥ Ï†úÍ≥µÎê† Ïàò ÏûàÏäµÎãàÎã§.

5. Í∞úÏù∏Ï†ïÎ≥¥ Î≥¥Ìò∏Î•º ÏúÑÌïú Ï°∞Ïπò
Ï°∞Ìï©ÏùÄ Í∞úÏù∏Ï†ïÎ≥¥ Î≥¥Ìò∏Î•º ÏúÑÌï¥ Îã§ÏùåÍ≥º Í∞ôÏùÄ Ï°∞ÏπòÎ•º Ï∑®ÌïòÍ≥† ÏûàÏäµÎãàÎã§.
- Í∞úÏù∏Ï†ïÎ≥¥ Ï†ëÍ∑º Í∂åÌïú ÏµúÏÜåÌôî
- ÎÇ¥Î∂Ä Í¥ÄÎ¶¨ Ï†àÏ∞® ÏàòÎ¶Ω Î∞è Ïö¥ÏòÅ
- Í∞úÏù∏Ï†ïÎ≥¥ Ïú†Ï∂ú Î∞©ÏßÄÎ•º ÏúÑÌïú Í∏∞Ïà†Ï†Å Î≥¥Ìò∏Ï°∞Ïπò

6. Í∞úÏù∏Ï†ïÎ≥¥ Í¥ÄÎ†® Î¨∏Ïùò
Í∞úÏù∏Ï†ïÎ≥¥ Î≥¥Ìò∏ÏôÄ Í¥ÄÎ†®Ìïú Î¨∏ÏùòÎäî ÏïÑÎûò Ïù¥Î©îÏùºÎ°ú Ïó∞ÎùΩ Ï£ºÏãúÍ∏∞ Î∞îÎûçÎãàÎã§.
Ïù¥Î©îÏùº: edgedown@naver.com

Î≥∏ Î∞©Ïπ®ÏùÄ 2026ÎÖÑ 1Ïõî 1ÏùºÎ∂ÄÌÑ∞ Ï†ÅÏö©Îê©ÎãàÎã§.`,[]),v=i.useMemo(()=>`Ïö∞Î¶¨ÎÖ∏ÎèôÏ°∞Ìï©ÏùÄ Î≥∏ ÏõπÏÇ¨Ïù¥Ìä∏Ïóê Í≤åÏãúÎêú Ïù¥Î©îÏùº Ï£ºÏÜåÍ∞Ä
Ï†ÑÏûêÏö∞Ìé∏ ÏàòÏßë ÌîÑÎ°úÍ∑∏Îû®Ïù¥ÎÇò Í∏∞ÌÉÄ Í∏∞Ïà†Ï†Å Ïû•ÏπòÎ•º Ïù¥Ïö©ÌïòÏó¨
Î¨¥Îã®ÏúºÎ°ú ÏàòÏßëÎêòÎäî Í≤ÉÏùÑ Í±∞Î∂ÄÌï©ÎãàÎã§.

Ïù¥Î•º ÏúÑÎ∞òÌï† Í≤ΩÏö∞ „ÄåÏ†ïÎ≥¥ÌÜµÏã†Îßù Ïù¥Ïö©Ï¥âÏßÑ Î∞è Ï†ïÎ≥¥Î≥¥Ìò∏ Îì±Ïóê Í¥ÄÌïú Î≤ïÎ•†„ÄçÏóê ÏùòÌï¥
ÌòïÏÇ¨ Ï≤òÎ≤å ÎåÄÏÉÅÏù¥ Îê† Ïàò ÏûàÏäµÎãàÎã§.

Ï°∞Ìï©Ïùò ÏÇ¨Ï†Ñ ÎèôÏùò ÏóÜÏù¥ ÏòÅÎ¶¨ Î™©Ï†ÅÏùò Í¥ëÍ≥†ÏÑ± Ïù¥Î©îÏùºÏùÑ Î∞úÏÜ°ÌïòÎäî ÌñâÏúÑÎ•º Í∏àÏßÄÌï©ÎãàÎã§.`,[]);return e.jsxs("footer",{className:"bg-gray-100 text-gray-500 text-sm px-4 py-8",children:[e.jsxs("div",{className:"max-w-6xl mx-auto md:flex md:items-start md:justify-between md:gap-10",children:[e.jsxs("div",{className:"space-y-2 text-center md:text-left",children:[e.jsx("p",{className:"font-semibold text-gray-700",children:"Ïö∞Î¶¨ÎÖ∏ÎèôÏ°∞Ìï©"}),e.jsx("p",{children:"ÏÑúÏö∏ÌäπÎ≥ÑÏãú ÏùÄÌèâÍµ¨ ÌÜµÏùºÎ°ú 1190 ÏßÑÍ¥ÄÎ≤ÑÏä§Í≥µÏòÅÏ∞®Í≥†ÏßÄ"}),e.jsx("p",{children:"TEL: 02-123-4567¬†¬† FAX: 02-1234-5678"}),e.jsx("p",{children:"EMAIL: edgedown@naver.com"}),e.jsx("p",{className:"pt-4 text-xs text-gray-400",children:"Copyright ¬© 2025 Ïö∞Î¶¨ÎÖ∏ÎèôÏ°∞Ìï©. All rights reserved."}),e.jsxs("div",{className:"pt-2 flex justify-center md:justify-start gap-6 text-sm",children:[e.jsx("button",{type:"button",onClick:()=>u("privacy"),className:"hover:underline",children:"Í∞úÏù∏Ï†ïÎ≥¥Ï≤òÎ¶¨Î∞©Ïπ®"}),e.jsx("button",{type:"button",onClick:()=>u("email"),className:"hover:underline",children:"Ïù¥Î©îÏùºÎ¨¥Îã®ÏàòÏßëÍ±∞Î∂Ä"})]})]}),e.jsxs("div",{className:"hidden md:flex md:flex-col md:items-end md:gap-3 md:min-w-[320px]",children:[r.length>0&&e.jsxs("div",{className:"grid grid-cols-2 gap-2.5 sm:gap-3 w-full max-w-[360px]",children:[r.slice(0,4).map(c=>{const E=p(c.label);return e.jsx("a",{href:c.url,target:"_blank",rel:"noreferrer",className:"w-full",children:E?e.jsx("div",{className:"w-full h-[60px] sm:h-[64px] md:h-[72px] rounded-2xl shadow-md overflow-hidden bg-white hover:brightness-95 transition-all",children:e.jsx("img",{src:E,alt:c.label,className:"w-full h-full object-contain"})}):e.jsx("span",{className:"w-full h-[60px] sm:h-[64px] md:h-[72px] rounded-2xl text-white font-black text-sm shadow-md text-center flex items-center justify-center",style:{backgroundColor:"var(--point-color)"},children:c.label})},c.label)}),l&&e.jsx("button",{type:"button",onClick:()=>o==null?void 0:o(),className:"w-full",children:e.jsx("div",{className:"w-full h-[60px] sm:h-[64px] md:h-[72px] rounded-2xl shadow-md overflow-hidden bg-white hover:brightness-95 transition-all",children:e.jsx("img",{src:"/images/youtube-withdraw.png",alt:"ÌöåÏõê ÌÉàÌá¥",className:"w-full h-full object-contain"})})})]}),r.length===0&&l&&e.jsx("button",{type:"button",onClick:()=>o==null?void 0:o(),className:"w-full max-w-[360px]",children:e.jsx("div",{className:"w-full h-[60px] sm:h-[64px] md:h-[72px] rounded-2xl shadow-md overflow-hidden bg-white hover:brightness-95 transition-all",children:e.jsx("img",{src:"/images/youtube-withdraw.png",alt:"ÌöåÏõê ÌÉàÌá¥",className:"w-full h-full object-contain"})})})]})]}),e.jsx(yt,{isOpen:x==="privacy",title:"Í∞úÏù∏Ï†ïÎ≥¥Ï≤òÎ¶¨Î∞©Ïπ®",onClose:()=>u(null),children:f}),e.jsx(yt,{isOpen:x==="email",title:"Ïù¥Î©îÏùºÎ¨¥Îã®ÏàòÏßëÍ±∞Î∂Ä",onClose:()=>u(null),children:v})]})}const us=({onGoHome:s,onSignup:r})=>{const[l,o]=i.useState(!1),[x,u]=i.useState(!1),p=["ÏßÑÍ¥Ä","ÎèÑÎ¥â","ÏÜ°Ìåå"],[f,v]=i.useState(""),[c,E]=i.useState({name:"",birthDate:"",phone:"",email:"",garage:"",password:"",passwordConfirm:""}),C=M=>{if(!M)return M;const P=M.replace(/[^\d]/g,""),A=P.length;return A<4?P:A<8?`${P.slice(0,3)}-${P.slice(3)}`:A<11?`${P.slice(0,3)}-${P.slice(3,7)}-${P.slice(7)}`:`${P.slice(0,3)}-${P.slice(3,7)}-${P.slice(7,11)}`},R=M=>{const{name:P,value:A}=M.target;let q=A;if(P==="phone"&&(q=C(A)),P==="garage"){q=A.trimStart();const ie=A.trim();ie&&!p.includes(ie)?v("ÏÜåÏÜç Ï∞®Í≥†ÏßÄÎäî ÏßÑÍ¥Ä, ÎèÑÎ¥â, ÏÜ°Ìåå Ï§ë ÌïòÎÇòÎßå ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî."):v("")}E({...c,[P]:q})},W=async M=>{if(M.preventDefault(),!c.name||!c.phone||!c.garage||!c.email)return alert("ÌïÑÏàò Ìï≠Î™©ÏùÑ Î™®Îëê ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.");const P=c.garage.trim();if(!p.includes(P))return v("ÏÜåÏÜç Ï∞®Í≥†ÏßÄÎäî ÏßÑÍ¥Ä, ÎèÑÎ¥â, ÏÜ°Ìåå Ï§ë ÌïòÎÇòÎßå ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî."),alert("ÏÜåÏÜç Ï∞®Í≥†ÏßÄÎäî ÏßÑÍ¥Ä, ÎèÑÎ¥â, ÏÜ°Ìåå Ï§ë ÌïòÎÇòÎßå ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.");if(!c.password||c.password.length<6)return alert("ÎπÑÎ∞ÄÎ≤àÌò∏Îäî 6ÏûêÎ¶¨ Ïù¥ÏÉÅÏúºÎ°ú ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.");if(c.password!==c.passwordConfirm)return alert("ÎπÑÎ∞ÄÎ≤àÌò∏Í∞Ä ÏùºÏπòÌïòÏßÄ ÏïäÏäµÎãàÎã§.");try{u(!0),await r({name:c.name,birthDate:c.birthDate,phone:c.phone,email:c.email,garage:c.garage},c.password),o(!0)}catch(A){console.error(A),alert((A==null?void 0:A.message)||"Í∞ÄÏûÖ Ï≤òÎ¶¨ Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.")}finally{u(!1)}};return l?e.jsx("div",{className:"max-w-2xl mx-auto py-20 px-4 text-center animate-fadeIn",children:e.jsxs("div",{className:"bg-sky-50 rounded-3xl p-12 border border-sky-100 shadow-sm",children:[e.jsx("i",{className:"fas fa-check-circle text-6xl text-sky-primary mb-6"}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Í∞ÄÏûÖ Ïã†Ï≤≠ ÏôÑÎ£å"}),e.jsxs("p",{className:"text-lg text-gray-600 mb-8",children:["Ïö∞Î¶¨ÎÖ∏ÎèôÏ°∞Ìï© Í∞ÄÏûÖ Ïã†Ï≤≠Ïù¥ Ï†ïÏÉÅÏ†ÅÏúºÎ°ú Ï†ëÏàòÎêòÏóàÏäµÎãàÎã§.",e.jsx("br",{}),"Í¥ÄÎ¶¨Ïûê ÌôïÏù∏ ÌõÑ Í∞úÎ≥Ñ Ïó∞ÎùΩÎìúÎ¶¨Í≤†ÏäµÎãàÎã§."]}),e.jsx("button",{onClick:s,className:"bg-sky-primary text-white px-8 py-3 rounded-xl font-bold hover:opacity-90 shadow-md mx-auto block",children:"ÌôàÏúºÎ°ú ÎèåÏïÑÍ∞ÄÍ∏∞"})]})}):e.jsxs("div",{className:"max-w-2xl mx-auto py-12 px-4 animate-fadeIn",children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Ï°∞Ìï©Ïõê Í∞ÄÏûÖ Ïã†Ï≤≠"}),e.jsx("p",{className:"text-gray-500",children:"ÎÖ∏ÎèôÏûêÏùò Í∂åÎ¶¨, Ïö∞Î¶¨Í∞Ä Ìï®Íªò ÏßÄÌÇµÎãàÎã§."})]}),e.jsxs("form",{onSubmit:W,className:"bg-white border rounded-3xl p-8 shadow-sm space-y-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h3",{className:"text-sm font-black text-sky-primary uppercase tracking-widest border-b pb-2 flex items-center",children:[e.jsx("i",{className:"fas fa-id-card mr-2"})," Ïù∏Ï†Å ÏÇ¨Ìï≠"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"ÏÑ±Ìï®"}),e.jsx("input",{required:!0,type:"text",name:"name",value:c.name,onChange:R,className:"w-full border-gray-300 rounded-lg p-3 border focus:ring-2 focus:ring-sky-primary outline-none transition-all",placeholder:"ÏÑ±Ìï®ÏùÑ ÏûÖÎ†•ÌïòÏÑ∏Ïöî"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"ÏÉùÎÖÑÏõîÏùº (6ÏûêÎ¶¨)"}),e.jsx("input",{required:!0,type:"text",name:"birthDate",value:c.birthDate,onChange:R,maxLength:6,pattern:"\\d{6}",className:"w-full border-gray-300 rounded-lg p-3 border focus:ring-2 focus:ring-sky-primary outline-none transition-all",placeholder:"Ïòà: 650718"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Ïó∞ÎùΩÏ≤ò (Ïà´ÏûêÎßå ÏûÖÎ†•)"}),e.jsx("input",{required:!0,type:"tel",name:"phone",value:c.phone,onChange:R,className:"w-full border-gray-300 rounded-lg p-3 border focus:ring-2 focus:ring-sky-primary outline-none transition-all",placeholder:"010-0000-0000"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Ïù¥Î©îÏùº Ï£ºÏÜå"}),e.jsx("input",{required:!0,type:"email",name:"email",value:c.email,onChange:R,className:"w-full border-gray-300 rounded-lg p-3 border focus:ring-2 focus:ring-sky-primary outline-none transition-all",placeholder:"example@email.com"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"ÎπÑÎ∞ÄÎ≤àÌò∏"}),e.jsx("input",{required:!0,type:"password",name:"password",value:c.password,onChange:R,className:"w-full border-gray-300 rounded-lg p-3 border focus:ring-2 focus:ring-sky-primary outline-none transition-all",placeholder:"6ÏûêÎ¶¨ Ïù¥ÏÉÅ"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"ÎπÑÎ∞ÄÎ≤àÌò∏ ÌôïÏù∏"}),e.jsx("input",{required:!0,type:"password",name:"passwordConfirm",value:c.passwordConfirm,onChange:R,className:"w-full border-gray-300 rounded-lg p-3 border focus:ring-2 focus:ring-sky-primary outline-none transition-all",placeholder:"ÎπÑÎ∞ÄÎ≤àÌò∏ Ïû¨ÏûÖÎ†•"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"ÏÜåÏÜç Ï∞®Í≥†ÏßÄ"}),e.jsx("input",{required:!0,type:"text",name:"garage",value:c.garage,onChange:R,className:"w-full border-gray-300 rounded-lg p-3 border focus:ring-2 focus:ring-sky-primary outline-none transition-all",placeholder:"Ïòà: ÏßÑÍ¥Ä, ÎèÑÎ¥â, ÏÜ°Ìåå"}),f&&e.jsx("p",{className:"mt-2 text-sm text-red-500 font-semibold",children:f})]})]}),e.jsx("div",{className:"pt-4",children:e.jsx("button",{type:"submit",disabled:x,className:"w-full bg-sky-primary text-white py-4 rounded-xl font-bold text-lg hover:opacity-90 shadow-xl shadow-sky-100 transition-all active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Ï≤òÎ¶¨ Ï§ë...":"Í∞ÄÏûÖ Ïã†Ï≤≠ÏÑú Ï†úÏ∂úÌïòÍ∏∞"})}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-xl text-center",children:e.jsxs("p",{className:"text-[11px] text-gray-400 leading-relaxed font-medium",children:["Ïã†Ï≤≠ÌïòÏã† Ï†ïÎ≥¥Îäî Í∞úÏù∏Ï†ïÎ≥¥Ï≤òÎ¶¨Î∞©Ïπ®Ïóê Îî∞Îùº Î≥¥Ìò∏ÎêòÎ©∞,",e.jsx("br",{}),"Ï°∞Ìï© Í∞ÄÏûÖ ÏäπÏù∏ Î∞è Ïó∞ÎùΩ Ïù¥Ïô∏Ïùò Ïö©ÎèÑÎ°ú ÏÇ¨Ïö©ÎêòÏßÄ ÏïäÏäµÎãàÎã§."]})})]})]})},ps=()=>{i.useEffect(()=>{console.log("üî• Supabase Ïó∞Îèô ÏÉÅÌÉú:",Se())},[]),i.useEffect(()=>{const a=F();a.tab&&r(a.tab),a.postId&&c(a.postId),a.writing&&o(!0),qe({tab:a.tab||"home",postId:a.postId||null,writing:!!a.writing})},[]),i.useEffect(()=>{const a=n=>{const h=n.state||F();r(h.tab||"home"),h.writing?(o(!0),f(null),c(null)):h.postId?(o(!1),f(null),c(h.postId)):(o(!1),f(null),c(null)),window.scrollTo({top:0,behavior:"smooth"})};return window.addEventListener("popstate",a),()=>window.removeEventListener("popstate",a)},[]),i.useEffect(()=>{const a=()=>{const n=F();r(n.tab||"home"),n.writing?(o(!0),f(null),c(null)):n.postId?(o(!1),f(null),c(n.postId)):(o(!1),f(null),c(null)),window.scrollTo({top:0,behavior:"smooth"})};return window.addEventListener("hashchange",a),()=>window.removeEventListener("hashchange",a)},[]);const[s,r]=i.useState("home"),[l,o]=i.useState(!1),[x,u]=i.useState(null),[p,f]=i.useState(null),[v,c]=i.useState(null),[E,C]=i.useState(!1),[R,W]=i.useState(!1),[M,P]=i.useState(!1),[A,q]=i.useState(!1),[ie,oe]=i.useState(!1),[Ne,ce]=i.useState(!1),[se,b]=i.useState(""),[O,X]=i.useState(""),[y,k]=i.useState(""),[D,U]=i.useState(!1),[Z,j]=i.useState(""),[G,Q]=i.useState(!1),[xe,we]=i.useState(""),[fe,H]=i.useState(""),[ee,Ce]=i.useState(!1),[he,ge]=i.useState(""),[ue,K]=i.useState(!1),[ye,_e]=i.useState(!0),[S,Y]=i.useState(!1),[L,te]=i.useState(()=>localStorage.getItem("union_role")||"guest"),[N,$]=i.useState(()=>localStorage.getItem("union_is_admin")==="true"),[g,ae]=i.useState(()=>{const a=localStorage.getItem("union_member");try{return a?JSON.parse(a):null}catch{return null}}),[re,ve]=i.useState(Bt),[de,je]=i.useState(Rt),[Ie,Ee]=i.useState([]),[Pe,t]=i.useState([]),[m,d]=i.useState(!1);i.useEffect(()=>{if(typeof window>"u")return;if(s!=="home"){d(!1);return}if(L!=="member"||!(g!=null&&g.id)){d(!1);return}if((g==null?void 0:g.isApproved)===!1){d(!1);return}const a=g.id,n=`union_push_onboard_done_${a}`,h=`union_push_onboard_dismiss_${a}`;if(localStorage.getItem(n)==="1"){d(!1);return}const B=Number(localStorage.getItem(h)||"0"),z=1440*60*1e3;if(B&&Date.now()-B<z){d(!1);return}d(!0)},[s,L,g==null?void 0:g.id,g==null?void 0:g.isApproved]);const _=i.useCallback(()=>{if(typeof window>"u"||!(g!=null&&g.id))return;const a=g.id;localStorage.setItem(`union_push_onboard_done_${a}`,"1"),localStorage.removeItem(`union_push_onboard_dismiss_${a}`),d(!1)},[g==null?void 0:g.id]),I=i.useCallback(()=>{if(typeof window>"u"||!(g!=null&&g.id))return;const a=g.id;localStorage.setItem(`union_push_onboard_dismiss_${a}`,String(Date.now())),d(!1)},[g==null?void 0:g.id]),le=a=>{const n=new URLSearchParams;a.tab&&n.set("tab",a.tab),a.postId&&n.set("post",a.postId),a.writing&&n.set("write","1");const h=n.toString();return h?`#${h}`:""},F=()=>{const a=(window.location.hash||"").replace(/^#/,""),n=new URLSearchParams(a),h=n.get("tab")||void 0,w=n.get("post"),B=n.get("write")==="1";return{tab:h,postId:w||null,writing:B}},ne=a=>{try{window.history.pushState(a,"",window.location.pathname+le(a))}catch{}},qe=a=>{try{window.history.replaceState(a,"",window.location.pathname+le(a))}catch{}},J=i.useCallback(async(a=!0)=>{a?_e(!0):Y(!0);try{if(Se()){const[n,h,w]=await Promise.all([qt(),Gt(),Ht()]);n&&je(n),h&&(t(h),localStorage.setItem("union_members",JSON.stringify(h))),w&&ve(w)}else{const n=localStorage.getItem("union_posts"),h=localStorage.getItem("union_members"),w=localStorage.getItem("union_settings");n&&je(JSON.parse(n)),h&&t(JSON.parse(h)),w&&ve(JSON.parse(w))}}catch(n){console.error("Îç∞Ïù¥ÌÑ∞ ÎèôÍ∏∞Ìôî Ïò§Î•ò:",n)}finally{_e(!1),Y(!1)}},[]);i.useEffect(()=>{J()},[J]),i.useEffect(()=>{(async()=>{if(!Se())return;const n=await dt(),h=n==null?void 0:n.user;if(!h)return;const w=await xt(h.id);if(!w||!w.isApproved){await Ae(),te("guest"),ae(null),localStorage.removeItem("union_role"),localStorage.removeItem("union_member");return}te("member"),ae(w),localStorage.setItem("union_role","member");const{password:B,...z}=w;localStorage.setItem("union_member",JSON.stringify(z))})()},[]),i.useEffect(()=>{if(!Se())return;try{new URL(window.location.href).searchParams.get("reset")==="1"&&ce(!0)}catch{}const{data:a}=Jt(n=>{n==="PASSWORD_RECOVERY"&&(W(!1),oe(!1),ce(!0))});return()=>{var n;(n=a==null?void 0:a.subscription)==null||n.unsubscribe()}},[]);const V=(a,n)=>{localStorage.setItem(`union_${a}`,JSON.stringify(n))},be=a=>{let n=a;if(window.matchMedia("(min-width: 768px)").matches&&n==="notice"&&(n="notice_all"),L==="guest"&&["free","resources"].includes(n)){P(!0);return}r(n),o(!1),u(null),f(null),c(null),ne({tab:n,postId:null,writing:!1}),window.scrollTo({top:0,behavior:"smooth"})},Ye=async(a,n,h,w,B)=>{let z;B?z={...de.find(ke=>ke.id===B),title:a,content:n,attachments:h,password:w}:z={id:Date.now().toString(),type:x||(s==="notice"?"notice_all":s),title:a,content:n,author:L==="admin"?"Í¥ÄÎ¶¨Ïûê":(g==null?void 0:g.name)||"Ï°∞Ìï©Ïõê",createdAt:new Date().toISOString(),views:0,attachments:h,password:w,comments:[]};const pe=B?de.map(me=>me.id===B?z:me):[z,...de];je(pe),V("posts",pe),await De(z),alert("ÏÑ±Í≥µÏ†ÅÏúºÎ°ú Ï†ÄÏû•ÎêòÏóàÏäµÎãàÎã§."),o(!1),ne({tab:s,postId:null,writing:!1}),f(null)},Be=async(a,n,h)=>{if(L==="guest"){P(!0);return}const w={id:Date.now().toString(),author:L==="admin"?"Í¥ÄÎ¶¨Ïûê":(g==null?void 0:g.name)||"Ï°∞Ìï©Ïõê",content:n,createdAt:new Date().toISOString(),replies:[]},B=de.map(z=>{if(z.id===a){let pe;return h?pe={...z,comments:(z.comments||[]).map(me=>me.id===h?{...me,replies:[...me.replies||[],w]}:me)}:pe={...z,comments:[...z.comments||[],w]},De(pe),pe}return z});je(B),V("posts",B)},Re=async(a,n,h,w)=>{if(L==="guest")return;const B=de.map(z=>{if(z.id!==a)return z;const pe=(z.comments||[]).map(ke=>{if(!w)return ke.id!==n?ke:{...ke,content:h};if(ke.id!==w)return ke;const He=(ke.replies||[]).map(Ve=>Ve.id===n?{...Ve,content:h}:Ve);return{...ke,replies:He}}),me={...z,comments:pe};return De(me),me});je(B),V("posts",B)},Me=async(a,n,h)=>{if(L==="guest"||!window.confirm("Ï†ïÎßê ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?"))return;const w=de.map(B=>{if(B.id!==a)return B;let z=B.comments||[];h?z=z.map(me=>{if(me.id!==h)return me;const ke=(me.replies||[]).filter(He=>He.id!==n);return{...me,replies:ke}}):z=z.filter(me=>me.id!==n);const pe={...B,comments:z};return De(pe),pe});je(w),V("posts",w)},ze=async(a,n)=>{const h=de.find(B=>B.id===a);if(!h)return;if(L!=="admin"&&h.password&&n!==h.password)return alert("ÎπÑÎ∞ÄÎ≤àÌò∏Í∞Ä ÏùºÏπòÌïòÏßÄ ÏïäÏäµÎãàÎã§.");if(!window.confirm("Ï†ïÎßê ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?"))return;const w=de.filter(B=>B.id!==a);je(w),Ee([h,...Ie]),V("posts",w),await Yt(a),c(null),ne({tab:s,postId:null,writing:!1}),alert("ÏÇ≠Ï†úÍ∞Ä ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§.")},Ct=async a=>{const n=Ie.find(B=>B.id===a);if(!n)return;const h=Ie.filter(B=>B.id!==a),w=[n,...de];je(w),Ee(h),V("posts",w),V("deletedPosts",h);try{De(n)}catch(B){console.warn("restore cloud save failed",B)}alert("Î≥µÍµ¨Í∞Ä ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§.")},_t=a=>{if(!window.confirm("Ìú¥ÏßÄÌÜµÏóêÏÑú ÏòÅÍµ¨ÏÇ≠Ï†ú ÌïòÏãúÍ≤†ÏäµÎãàÍπå?"))return;const n=Ie.filter(h=>h.id!==a);Ee(n),V("deletedPosts",n),alert("ÏòÅÍµ¨ÏÇ≠Ï†úÍ∞Ä ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§.")},It=async(a,n)=>{if(!Se())throw new Error("Supabase ÏÑ§Ï†ïÏù¥ ÌïÑÏöîÌï©ÎãàÎã§. (VITE_SUPABASE_URL / VITE_SUPABASE_ANON_KEY)");const{data:h,error:w}=await Wt(a.email,n);if(w)throw w;const B=h.user;if(!B)throw new Error("ÌöåÏõêÍ∞ÄÏûÖ(user) Ï†ïÎ≥¥Í∞Ä ÏÉùÏÑ±ÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§. (Ïù¥Î©îÏùº Ïù∏Ï¶ù ÏÑ§Ï†ïÏùÑ ÌôïÏù∏ÌïòÏÑ∏Ïöî)");const z={id:B.id,name:a.name,birthDate:a.birthDate,phone:a.phone,email:a.email,garage:a.garage,signupDate:new Date().toISOString(),isApproved:!1},pe=[z,...Pe];t(pe),V("members",pe),await ht(z),await Ae()},Pt=async a=>{const n=Pe.map(w=>w.id===a?{...w,isApproved:!0}:w);t(n),V("members",n);const h=n.find(w=>w.id===a);h&&(await ht(h),alert(`${h.name}ÎãòÏùò Í∞ÄÏûÖÏù¥ ÏäπÏù∏ÎêòÏóàÏäµÎãàÎã§.`))},Et=async a=>{const n=Pe.find(w=>w.id===a);if(!n||!window.confirm(`${n.name} Ï°∞Ìï©ÏõêÏùÑ Í∞ïÏ†ú ÌÉàÌá¥ Ï≤òÎ¶¨ÌïòÏãúÍ≤†ÏäµÎãàÍπå?`))return;const h=Pe.filter(w=>w.id!==a);t(h),V("members",h),await ut(a),alert("Ï†ïÏÉÅÏ†ÅÏúºÎ°ú Ï≤òÎ¶¨ÎêòÏóàÏäµÎãàÎã§.")},At=async a=>{ve(a),V("settings",a),await Xt(a)},at=()=>{se==="1229"?($(!0),te("admin"),localStorage.setItem("union_role","admin"),localStorage.setItem("union_is_admin","true"),C(!1),b(""),alert("Í¥ÄÎ¶¨Ïûê Î™®ÎìúÎ°ú Ï†ëÏÜçÎêòÏóàÏäµÎãàÎã§.")):alert("ÎπÑÎ∞ÄÎ≤àÌò∏Í∞Ä ÏùºÏπòÌïòÏßÄ ÏïäÏäµÎãàÎã§.")},Dt=a=>{const n=String((a==null?void 0:a.message)||"");return(a==null?void 0:a.name)==="AbortError"||/aborted|abort|signal is aborted/i.test(n)},rt=async()=>{if(!D){if(!O)return alert("Ïù¥Î©îÏùº Ï£ºÏÜåÎ•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.");if(!y)return alert("ÎπÑÎ∞ÄÎ≤àÌò∏Î•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.");if(!Se())return alert("Supabase ÏÑ§Ï†ïÏù¥ ÌïÑÏöîÌï©ÎãàÎã§.");U(!0);try{const{data:a,error:n}=await mt(O,y);if(n)throw n;const h=a.user;if(!h)throw new Error("Î°úÍ∑∏Ïù∏ Ï†ïÎ≥¥(user)Î•º ÌôïÏù∏Ìï† Ïàò ÏóÜÏäµÎãàÎã§.");const w=await xt(h.id);if(!w||!w.isApproved){await Ae(),W(!1),P(!0);return}te("member"),ae(w),localStorage.setItem("union_role","member");const{password:B,...z}=w;localStorage.setItem("union_member",JSON.stringify(z)),W(!1),X(""),k(""),alert(`${w.name}Îãò, ÌôòÏòÅÌï©ÎãàÎã§!`)}catch(a){if(console.error(a),Dt(a)){alert(`ÎÑ§Ìä∏ÏõåÌÅ¨ ÏöîÏ≤≠Ïù¥ Ï§ëÎã®ÎêòÏóàÏäµÎãàÎã§. Ïû†Ïãú ÌõÑ Îã§Ïãú ÏãúÎèÑÌï¥Ï£ºÏÑ∏Ïöî.
(Î°úÍ∑∏Ïù∏ Î≤ÑÌäºÏùÄ Ìïú Î≤àÎßå ÎàåÎü¨Ï£ºÏÑ∏Ïöî / ÏôÄÏù¥ÌååÏù¥¬∑Îç∞Ïù¥ÌÑ∞ ÏÉÅÌÉú ÌôïÏù∏)`);return}alert((a==null?void 0:a.message)||"Î°úÍ∑∏Ïù∏ Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.")}finally{U(!1)}}},$t=()=>{j(O||""),oe(!0)},lt=async()=>{if(!G){if(!Z)return alert("Ïù¥Î©îÏùº Ï£ºÏÜåÎ•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.");if(!Se())return alert("Supabase ÏÑ§Ï†ïÏù¥ ÌïÑÏöîÌï©ÎãàÎã§.");try{Q(!0);const a=`${window.location.origin}/?reset=1`,{error:n}=await Vt(Z,a);if(n)throw n;alert(`ÏûÖÎ†•ÌïòÏã† Ïù¥Î©îÏùºÎ°ú ÎπÑÎ∞ÄÎ≤àÌò∏ Ïû¨ÏÑ§Ï†ï ÎßÅÌÅ¨Î•º Î∞úÏÜ°ÌñàÏäµÎãàÎã§.
Î©îÏùºÌï®(Ïä§Ìå∏Ìï® Ìè¨Ìï®)ÏùÑ ÌôïÏù∏Ìï¥Ï£ºÏÑ∏Ïöî.`),oe(!1),j("")}catch(a){console.error(a),alert((a==null?void 0:a.message)||"ÎπÑÎ∞ÄÎ≤àÌò∏ Ïû¨ÏÑ§Ï†ï Î©îÏùº Î∞úÏÜ° Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.")}finally{Q(!1)}}},Ge=()=>{try{const a=new URL(window.location.href);a.searchParams.delete("reset"),window.history.replaceState({},"",a.toString())}catch{}},nt=async()=>{if(!ee){if(!xe||xe.length<6)return alert("ÏÉà ÎπÑÎ∞ÄÎ≤àÌò∏Î•º 6Ïûê Ïù¥ÏÉÅ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.");if(xe!==fe)return alert("ÎπÑÎ∞ÄÎ≤àÌò∏ ÌôïÏù∏Ïù¥ ÏùºÏπòÌïòÏßÄ ÏïäÏäµÎãàÎã§.");if(!Se())return alert("Supabase ÏÑ§Ï†ïÏù¥ ÌïÑÏöîÌï©ÎãàÎã§.");try{Ce(!0);const{error:a}=await Kt(xe);if(a)throw a;alert(`ÎπÑÎ∞ÄÎ≤àÌò∏Í∞Ä Î≥ÄÍ≤ΩÎêòÏóàÏäµÎãàÎã§.
Î≥¥ÏïàÏùÑ ÏúÑÌï¥ Î°úÍ∑∏ÏïÑÏõÉ ÌõÑ Îã§Ïãú Î°úÍ∑∏Ïù∏Ìï¥ Ï£ºÏÑ∏Ïöî.`),await Ae(),te("guest"),ae(null),localStorage.removeItem("union_role"),localStorage.removeItem("union_member"),ce(!1),we(""),H(""),Ge(),W(!0)}catch(a){console.error(a),alert((a==null?void 0:a.message)||"ÎπÑÎ∞ÄÎ≤àÌò∏ Î≥ÄÍ≤Ω Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.")}finally{Ce(!1)}}},Tt=async()=>{window.confirm("Î°úÍ∑∏ÏïÑÏõÉ ÌïòÏãúÍ≤†ÏäµÎãàÍπå?")&&(await Ae(),te("guest"),ae(null),$(!1),localStorage.removeItem("union_role"),localStorage.removeItem("union_is_admin"),localStorage.removeItem("union_member"),be("home"))},it=[{label:"ÌïúÍµ≠brtÏ∂ïÍµ¨Îã®",url:"https://www.youtube.com/@brt4866"},{label:"ÍπÄÎèôÍ±∏TV",url:"https://www.youtube.com/@SeoulCityBusDriver"},{label:"Í≤∏ÏÜêÏùÄ ÌûòÎì§Îã§",url:"https://www.youtube.com/@gyeomsonisnothing"}],ot=()=>{if(L!=="member"||!g){P(!0);return}ge(""),q(!0)},ct=async()=>{if(!ue){if(!he)return alert("ÎπÑÎ∞ÄÎ≤àÌò∏Î•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.");if(!Se())return alert("Supabase ÏÑ§Ï†ïÏù¥ ÌïÑÏöîÌï©ÎãàÎã§.");try{K(!0);const a=await dt(),n=a==null?void 0:a.user,h=n==null?void 0:n.email;if(!n||!h)throw new Error("Î°úÍ∑∏Ïù∏ Ï†ïÎ≥¥Î•º ÌôïÏù∏Ìï† Ïàò ÏóÜÏäµÎãàÎã§.");const{error:w}=await mt(h,he);if(w)throw w;await ut(n.id),await Ae(),te("guest"),ae(null),$(!1),localStorage.removeItem("union_role"),localStorage.removeItem("union_is_admin"),localStorage.removeItem("union_member"),q(!1),be("home"),alert("ÌöåÏõê ÌÉàÌá¥Í∞Ä ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§. Ïù¥Ïö©Ìï¥ Ï£ºÏÖîÏÑú Í∞êÏÇ¨Ìï©ÎãàÎã§.")}catch(a){console.error(a),alert((a==null?void 0:a.message)||"ÌöåÏõê ÌÉàÌá¥ Ï≤òÎ¶¨ Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.")}finally{K(!1)}}},We=a=>{const n=a||s,h=n==="notice"?"notice_all":n;if(["notice_all","family_events","resources"].includes(h)&&L!=="admin"){C(!0);return}if(L==="guest"){P(!0);return}u(h),o(!0),c(null),ne({tab:s,postId:null,writing:!0}),ne({tab:s,postId:null,writing:!0})},Ue=a=>{f(a),u(a.type),o(!0),c(null),ne({tab:s,postId:null,writing:!0})},Fe=a=>{if(c(a),ne({tab:s,postId:a,writing:!1}),a){const n=de.map(h=>{if(h.id===a){const w={...h,views:(h.views||0)+1};return De(w),w}return h});je(n),V("posts",n)}},Lt=(a,n)=>{r(n),Fe(a),window.scrollTo(0,0)};return i.useEffect(()=>{if(!Se())return;const a=()=>J(!1);window.addEventListener("focus",a);const n=()=>{document.hidden||a()};return document.addEventListener("visibilitychange",n),()=>{window.removeEventListener("focus",a),document.removeEventListener("visibilitychange",n)}},[J]),ye?e.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-sky-100 border-t-sky-primary rounded-full animate-spin mb-6"}),e.jsx("p",{className:"text-gray-400 font-bold text-sm tracking-widest animate-pulse",children:"Ïö∞Î¶¨ÎÖ∏ÎèôÏ°∞Ìï© Îç∞Ïù¥ÌÑ∞Î•º Î∂àÎü¨Ïò§Îäî Ï§ë..."})]}):e.jsxs(Mt,{settings:re,children:[e.jsx(rs,{siteName:re.siteName,activeTab:s,onTabChange:be,userRole:L,memberName:L==="admin"?"Í¥ÄÎ¶¨Ïûê":(g==null?void 0:g.name)||"",onToggleLogin:L==="guest"?()=>W(!0):Tt,youtubeLinks:it,showWithdrawButton:L==="member"||L==="admin",onRequestWithdraw:ot}),e.jsx("main",{className:"flex-grow",children:l?e.jsx(ms,{type:x||s,initialPost:p,onSave:Ye,onCancel:()=>{o(!1),f(null),ne({tab:s,postId:null,writing:!1})}}):s==="admin"?N?e.jsx(ds,{settings:re,setSettings:At,members:Pe,posts:de,deletedPosts:Ie,onRestorePost:Ct,onPermanentDelete:_t,onEditPost:Ue,onViewPost:Lt,onClose:()=>be("home"),onRemoveMember:Et,onApproveMember:Pt}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-40",children:[e.jsx("i",{className:"fas fa-lock text-4xl text-gray-200 mb-6"}),e.jsx("button",{onClick:()=>C(!0),className:"px-10 py-4 bg-gray-900 text-white rounded-2xl font-black shadow-xl active:scale-95 transition-all",children:"Í¥ÄÎ¶¨Ïûê Ïù∏Ï¶ù"})]}):s==="home"?e.jsxs(e.Fragment,{children:[m&&e.jsx(ns,{memberName:g==null?void 0:g.name,onDone:_,onLater:I}),e.jsx(ls,{title:re.heroTitle,subtitle:re.heroSubtitle,imageUrls:re.heroImageUrls||[re.heroImageUrl],onJoinClick:()=>be("signup")})]}):["intro","greeting","history","map"].includes(s)?e.jsx(xs,{settings:re,activeTab:s}):s==="signup"?e.jsx(us,{onGoHome:()=>be("home"),onSignup:It}):s==="notice"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"md:hidden",children:e.jsx(is,{onSelect:be})}),e.jsx("div",{className:"hidden md:block",children:e.jsx(Ze,{posts:de,userRole:L,type:"notice_all",selectedPostId:v,onWriteClick:We,onEditClick:Ue,onSelectPost:Fe,onDeletePost:ze,onSaveComment:Be,onEditComment:Re,onDeleteComment:Me})})]}):["notice_all","family_events"].includes(s)?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"md:hidden",children:e.jsx(Ze,{posts:de,userRole:L,type:s,selectedPostId:v,onWriteClick:We,onEditClick:Ue,onSelectPost:Fe,onDeletePost:ze,onSaveComment:Be,onEditComment:Re,onDeleteComment:Me})}),e.jsx("div",{className:"hidden md:block",children:e.jsx(Ze,{posts:de,userRole:L,type:s,selectedPostId:v,onWriteClick:We,onEditClick:Ue,onSelectPost:Fe,onDeletePost:ze,onSaveComment:Be,onEditComment:Re,onDeleteComment:Me})})]}):e.jsx("div",{className:"relative",children:e.jsx(kt,{type:s,posts:de,onWriteClick:We,onEditClick:Ue,selectedPostId:v,onSelectPost:Fe,userRole:L,onDeletePost:ze,onSaveComment:Be,onEditComment:Re,onDeleteComment:Me,currentUserName:L==="admin"?"Í¥ÄÎ¶¨Ïûê":(g==null?void 0:g.name)||"Ï°∞Ìï©Ïõê"})})}),E&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fadeIn",children:e.jsxs("div",{className:"bg-white rounded-[2.5rem] p-12 max-w-[340px] w-[90%] shadow-2xl relative text-center",children:[e.jsx("button",{onClick:()=>C(!1),className:"absolute top-8 right-8 text-gray-300 hover:text-gray-500 transition-colors",children:e.jsx("i",{className:"fas fa-times text-xl"})}),e.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-2xl flex items-center justify-center mx-auto mb-6",children:e.jsx("i",{className:"fas fa-key text-gray-900 text-2xl"})}),e.jsx("h3",{className:"text-xl font-black mb-2 text-gray-900",children:"ADMIN AUTH"}),e.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest mb-8",children:"Í¥ÄÎ¶¨Ïûê ÎπÑÎ∞ÄÎ≤àÌò∏Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"password",name:"admin_pass",className:"w-full border-2 border-gray-50 rounded-2xl p-4 text-center text-2xl tracking-[0.5em] focus:border-sky-primary outline-none transition-all bg-gray-50/50",autoFocus:!0,value:se,onChange:a=>b(a.target.value),onKeyDown:a=>a.key==="Enter"&&at()}),e.jsx("button",{onClick:at,className:"w-full py-4 bg-gray-900 text-white rounded-2xl font-black text-sm hover:bg-black transition-all shadow-xl",children:"Ïù∏Ï¶ùÌïòÍ∏∞"})]})]})}),R&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fadeIn",children:e.jsxs("div",{className:"bg-white rounded-[3rem] p-10 max-w-[360px] w-[90%] shadow-2xl relative",children:[e.jsx("button",{onClick:()=>W(!1),className:"absolute top-8 right-8 text-gray-300 hover:text-gray-500 transition-colors",children:e.jsx("i",{className:"fas fa-times text-xl"})}),e.jsxs("div",{className:"text-center mb-10",children:[e.jsx("div",{className:"w-16 h-16 bg-sky-50 rounded-3xl flex items-center justify-center mx-auto mb-4 shadow-sm shadow-sky-100",children:e.jsx("i",{className:"fas fa-user-check text-sky-primary text-2xl"})}),e.jsx("h3",{className:"text-2xl font-black text-gray-900",children:"Ï°∞Ìï©Ïõê Î°úÍ∑∏Ïù∏"}),e.jsx("p",{className:"text-[11px] text-gray-400 font-bold mt-2 tracking-tight",children:"Ïù¥Î©îÏùº Ï£ºÏÜåÏôÄ ÎπÑÎ∞ÄÎ≤àÌò∏Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 ml-2 uppercase tracking-widest",children:"Email Address"}),e.jsx("input",{type:"email",placeholder:"example@email.com",className:"w-full border-2 border-gray-50 rounded-2xl p-4 text-sm outline-none focus:border-sky-primary transition-colors bg-gray-50/50 font-bold",value:O,onChange:a=>X(a.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 ml-2 uppercase tracking-widest",children:"Password"}),e.jsx("input",{type:"password",placeholder:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢",className:"w-full border-2 border-gray-50 rounded-2xl p-4 text-sm outline-none focus:border-sky-primary transition-colors bg-gray-50/50 font-bold",value:y,onChange:a=>k(a.target.value),onKeyDown:a=>a.key==="Enter"&&!D&&rt()})]}),e.jsx("button",{onClick:rt,disabled:D,className:`w-full px-10 py-4 bg-sky-primary text-white rounded-2xl font-black text-xl shadow-xl shadow-sky-100 hover:opacity-95 active:scale-[0.99] transition-all mt-4 ${D?"opacity-60 cursor-not-allowed":""}`,children:D?"Î°úÍ∑∏Ïù∏ Ï§ë...":"Î°úÍ∑∏Ïù∏"}),e.jsxs("button",{onClick:$t,className:"w-full text-center text-xs text-gray-400 font-bold hover:text-sky-primary mt-3 transition-colors",children:["ÎπÑÎ∞ÄÎ≤àÌò∏Î•º ÏûäÏúºÏÖ®ÎÇòÏöî? ",e.jsx("span",{className:"underline decoration-2 underline-offset-4 ml-1",children:"Ïû¨ÏÑ§Ï†ïÌïòÍ∏∞"})]}),e.jsxs("button",{onClick:()=>{be("signup"),W(!1)},className:"w-full text-center text-xs text-gray-400 font-bold hover:text-sky-primary mt-6 transition-colors",children:["ÏïÑÏßÅ ÌöåÏõêÏù¥ ÏïÑÎãàÏã†Í∞ÄÏöî? ",e.jsx("span",{className:"underline decoration-2 underline-offset-4 ml-1",children:"Ïã†Í∑ú Í∞ÄÏûÖÌïòÍ∏∞"})]})]})]})}),ie&&e.jsx("div",{className:"fixed inset-0 z-[110] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fadeIn",children:e.jsxs("div",{className:"bg-white rounded-[3rem] p-10 max-w-[380px] w-[92%] shadow-2xl relative",children:[e.jsx("button",{onClick:()=>oe(!1),className:"absolute top-8 right-8 text-gray-300 hover:text-gray-500 transition-colors",children:e.jsx("i",{className:"fas fa-times text-xl"})}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-20 h-20 bg-sky-50 rounded-full flex items-center justify-center mx-auto mb-6 shadow-inner",children:e.jsx("i",{className:"fas fa-envelope-open-text text-sky-primary text-3xl"})}),e.jsx("h3",{className:"text-2xl font-black text-gray-900 mb-3",children:"ÎπÑÎ∞ÄÎ≤àÌò∏ Ïû¨ÏÑ§Ï†ï"}),e.jsxs("p",{className:"text-sm text-gray-500 font-medium leading-relaxed",children:["Í∞ÄÏûÖÌïòÏã† Ïù¥Î©îÏùºÎ°ú ",e.jsx("span",{className:"font-bold",children:"Ïû¨ÏÑ§Ï†ï ÎßÅÌÅ¨"}),"Î•º Î≥¥ÎÇ¥ÎìúÎ¶¥Í≤åÏöî."]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 ml-2 uppercase tracking-widest",children:"Email Address"}),e.jsx("input",{type:"email",placeholder:"example@email.com",className:"w-full border-2 border-gray-50 rounded-2xl p-4 text-sm outline-none focus:border-sky-primary transition-colors bg-gray-50/50 font-bold",value:Z,onChange:a=>j(a.target.value),onKeyDown:a=>a.key==="Enter"&&lt(),autoFocus:!0})]}),e.jsx("button",{onClick:lt,className:"w-full py-4 bg-sky-primary text-white rounded-2xl font-black text-base shadow-xl shadow-sky-100 hover:opacity-95 active:scale-95 transition-all",disabled:G,children:G?"Î∞úÏÜ° Ï§ë...":"Ïû¨ÏÑ§Ï†ï ÎßÅÌÅ¨ Î≥¥ÎÇ¥Í∏∞"}),e.jsx("button",{onClick:()=>oe(!1),className:"w-full py-3 text-sm font-black text-gray-400 hover:text-gray-900 transition-colors",disabled:G,children:"Ï∑®ÏÜå"})]})]})}),Ne&&e.jsx("div",{className:"fixed inset-0 z-[115] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fadeIn",children:e.jsxs("div",{className:"bg-white rounded-[3rem] p-10 max-w-[420px] w-[92%] shadow-2xl relative",children:[e.jsx("button",{onClick:()=>{ce(!1),Ge()},className:"absolute top-8 right-8 text-gray-300 hover:text-gray-500 transition-colors",children:e.jsx("i",{className:"fas fa-times text-xl"})}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-20 h-20 bg-sky-50 rounded-full flex items-center justify-center mx-auto mb-6 shadow-inner",children:e.jsx("i",{className:"fas fa-key text-sky-primary text-3xl"})}),e.jsx("h3",{className:"text-2xl font-black text-gray-900 mb-3",children:"ÏÉà ÎπÑÎ∞ÄÎ≤àÌò∏ ÏÑ§Ï†ï"}),e.jsx("p",{className:"text-sm text-gray-500 font-medium leading-relaxed",children:"ÏÉà ÎπÑÎ∞ÄÎ≤àÌò∏Î•º ÏûÖÎ†•ÌïòÏã† ÌõÑ Ï†ÄÏû•ÏùÑ ÎàåÎü¨Ï£ºÏÑ∏Ïöî."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 ml-2 uppercase tracking-widest",children:"New Password"}),e.jsx("input",{type:"password",placeholder:"6Ïûê Ïù¥ÏÉÅ",className:"w-full border-2 border-gray-50 rounded-2xl p-4 text-sm outline-none focus:border-sky-primary transition-colors bg-gray-50/50 font-bold",value:xe,onChange:a=>we(a.target.value)})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 ml-2 uppercase tracking-widest",children:"Confirm Password"}),e.jsx("input",{type:"password",placeholder:"ÎπÑÎ∞ÄÎ≤àÌò∏ ÌôïÏù∏",className:"w-full border-2 border-gray-50 rounded-2xl p-4 text-sm outline-none focus:border-sky-primary transition-colors bg-gray-50/50 font-bold",value:fe,onChange:a=>H(a.target.value),onKeyDown:a=>a.key==="Enter"&&nt()})]}),e.jsx("button",{onClick:nt,className:"w-full py-4 bg-sky-primary text-white rounded-2xl font-black text-base shadow-xl shadow-sky-100 hover:opacity-95 active:scale-95 transition-all",disabled:ee,children:ee?"Ï†ÄÏû• Ï§ë...":"ÎπÑÎ∞ÄÎ≤àÌò∏ Ï†ÄÏû•"}),e.jsx("button",{onClick:()=>{ce(!1),Ge()},className:"w-full py-3 text-sm font-black text-gray-400 hover:text-gray-900 transition-colors",disabled:ee,children:"Îã´Í∏∞"})]})]})}),M&&e.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fadeIn",children:e.jsxs("div",{className:"bg-white rounded-[3rem] p-10 max-w-[360px] w-[90%] shadow-2xl relative text-center",children:[e.jsx("button",{onClick:()=>P(!1),className:"absolute top-8 right-8 text-gray-300 hover:text-gray-500 transition-colors",children:e.jsx("i",{className:"fas fa-times text-xl"})}),e.jsx("div",{className:"w-20 h-20 bg-orange-50 rounded-full flex items-center justify-center mx-auto mb-6 shadow-inner",children:e.jsx("i",{className:"fas fa-user-clock text-orange-400 text-3xl"})}),e.jsx("h3",{className:"text-2xl font-black text-gray-900 mb-4",children:"ÌöåÏõê Ï†ÑÏö© Î©îÎâ¥ÏûÖÎãàÎã§"}),e.jsxs("p",{className:"text-sm text-gray-500 font-medium leading-relaxed mb-8",children:["ÌöåÏõê Í∞ÄÏûÖ ÌõÑ ",e.jsx("span",{className:"text-orange-500 font-bold",children:"ÏäπÏù∏"}),"ÎêòÎ©¥",e.jsx("br",{}),"Ïù¥Ïö©ÌïòÏã§ Ïàò ÏûàÏäµÎãàÎã§."]}),e.jsx("button",{onClick:()=>P(!1),className:"w-full py-4 bg-gray-900 text-white rounded-2xl font-black text-base shadow-xl hover:bg-black transition-all active:scale-95",children:"ÌôïÏù∏"})]})}),A&&e.jsx("div",{className:"fixed inset-0 z-[130] flex items-center justify-center bg-black/40 backdrop-blur-sm animate-fadeIn",children:e.jsxs("div",{className:"bg-white rounded-[3rem] p-10 max-w-[380px] w-[92%] shadow-2xl relative",children:[e.jsx("button",{onClick:()=>q(!1),className:"absolute top-8 right-8 text-gray-300 hover:text-gray-500 transition-colors",children:e.jsx("i",{className:"fas fa-times text-xl"})}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-20 h-20 bg-red-50 rounded-full flex items-center justify-center mx-auto mb-6 shadow-inner",children:e.jsx("i",{className:"fas fa-user-slash text-red-500 text-3xl"})}),e.jsx("h3",{className:"text-2xl font-black text-gray-900 mb-3",children:"ÌöåÏõê ÌÉàÌá¥"}),e.jsxs("p",{className:"text-sm text-gray-500 font-medium leading-relaxed",children:["Ï†ïÎßê ÌÉàÌá¥ÌïòÏãúÍ≤†ÏäµÎãàÍπå?",e.jsx("br",{}),"ÌÉàÌá¥ÌïòÎ©¥ ",e.jsx("span",{className:"font-bold",children:"ÏûêÏú†Í≤åÏãúÌåê¬∑ÏûêÎ£åÏã§ Ïù¥Ïö© Í∂åÌïú"}),"Ïù¥ Ï¢ÖÎ£åÎê©ÎãàÎã§.",e.jsx("br",{}),"Í≥ÑÏÜç ÏßÑÌñâÌïòÏãúÎ†§Î©¥ ÎπÑÎ∞ÄÎ≤àÌò∏Î•º ÏûÖÎ†•Ìï¥ Ï£ºÏÑ∏Ïöî."]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 ml-2 uppercase tracking-widest",children:"Password"}),e.jsx("input",{type:"password",placeholder:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢",className:"w-full border-2 border-gray-50 rounded-2xl p-4 text-sm outline-none focus:border-red-400 transition-colors bg-gray-50/50 font-bold",value:he,onChange:a=>ge(a.target.value),onKeyDown:a=>a.key==="Enter"&&ct()})]}),e.jsx("button",{onClick:ct,className:"w-full py-4 bg-[#FF0000] text-white rounded-2xl font-black text-base shadow-xl hover:opacity-95 active:scale-95 transition-all",disabled:ue,children:ue?"Ï≤òÎ¶¨ Ï§ë...":"ÌÉàÌá¥ÌïòÍ∏∞"}),e.jsx("button",{onClick:()=>q(!1),className:"w-full py-3 text-sm font-black text-gray-400 hover:text-gray-900 transition-colors",disabled:ue,children:"Ï∑®ÏÜå"})]})]})}),e.jsx(hs,{siteName:re.siteName,onTabChange:be,youtubeLinks:it,showWithdrawButton:L==="member"||L==="admin",onRequestWithdraw:ot})]})},St=document.getElementById("root");if(!St)throw new Error("Could not find root element to mount to");Je();vt();const fs=Ut.createRoot(St);fs.render(e.jsx(Ft.StrictMode,{children:e.jsx(ps,{})}));
